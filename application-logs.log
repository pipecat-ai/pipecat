[ai] [2026-01-16 11:04:04 -0800] [59087] [INFO] 127.0.0.1:53364 OPTIONS /ai2/start-voice-assistant 1.1 200 0 9044
[ai] INFO:sunsama_ai.server:Starting a call
[ai] INFO:sunsama_ai.server:CallId: None CallDomain: None DialoutNumber: None DialinNumber: None DialedNumber: None Flow: braindump
[ai] INFO:sunsama_ai.server:
[ai]
[ai]
[ai]
[ai] INFO:sunsama_ai.server:Call recording initialized for voice_session_id: 696a8ba4de74410788876fbb
[ai] INFO:sunsama_ai.voice_assistant.bot_runner:Creating new room...
[ai] INFO:sunsama_ai.voice_assistant.bot_runner:Daily room: https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[ai] INFO:sunsama_ai.voice_assistant.bot_runner:Starting bot call...
[ai] INFO:sunsama_ai.voice_assistant.bot_runner:Bot call started
[ai] [2026-01-16 11:04:04 -0800] [59087] [INFO] 127.0.0.1:53364 POST /ai2/start-voice-assistant 1.1 200 356 358242
[voice] INFO:sunsama_voice.bot:Bot process initialized None https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyIjoidGVXcFJ4Q1Fua01IWWk3UTNscWgiLCJlanQiOmZhbHNlLCJleHAiOjE3Njg1OTA1NDQsIm8iOnRydWUsImQiOiI5OWJiNzdhNS0wYjZkLTRkOWMtOTkxMC1jMDcwNmEwZTA0ZDMiLCJpYXQiOjE3Njg1OTAyNDR9.npzlQ2ncZ7zemVHacAgerEYBSchiEM-VYxKf3t8Z5A0
[voice] INFO:sunsama_voice.bot:{'roomUrl': 'https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh', 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyIjoidGVXcFJ4Q1Fua01IWWk3UTNscWgiLCJlanQiOmZhbHNlLCJleHAiOjE3Njg1OTA1NDQsIm8iOnRydWUsImQiOiI5OWJiNzdhNS0wYjZkLTRkOWMtOTkxMC1jMDcwNmEwZTA0ZDMiLCJpYXQiOjE3Njg1OTAyNDR9.npzlQ2ncZ7zemVHacAgerEYBSchiEM-VYxKf3t8Z5A0', 'callId': None, 'callDomain': None, 'detectVoicemail': False, 'dialoutNumber': None, 'dialinNumber': None, 'dialedNumber': None, 'authToken': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzFhYzVlNDAyYTMwMmNmNmVmMzA4OGUiLCJzZXNzaW9uSWQiOiIxOTVmNDI0NC05YjFmLTRlYmItOTMwZC0wZTExNTAwNzZkYzkiLCJzZXNzaW9uTm9uY2UiOiJhY2ZlZTc2OS1jZGU2LTRkMWYtYTU5Ni0xMzk0MTRkMjUxNjAiLCJncm91cElkIjoiNjcxYWM1ZTkwMmEzMDJjZjZlZjMwODkwIiwiZ3JvdXBVcmxQYXRoIjoiMTcyOTgwNzg0OTAzNjUxOTIiLCJpYXQiOjE3Njg1OTAyMTYsImV4cCI6MTc3MTE4MjIxNn0.HHSuewYqBRl-IZkdiWcEJyiD6akgbtwnOIQ4Js71bZI', 'flow': 'braindump', 'flowOptions': {}, 'voiceSessionId': '696a8ba4de74410788876fbb'}
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/services/google/llm.py:281: DeprecationWarning: OpenAILLMContext is deprecated and will be removed in a future version. Use the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice]   super().__init__(messages=messages, tools=tools, tool_choice=tool_choice)
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'initialize', 'params': {'protocolVersion': '2025-06-18', 'capabilities': {}, 'clientInfo': {'name': 'mcp', 'version': '0.1.0'}}, 'jsonrpc': '2.0', 'id': 0}
[api-local] [api] 2026-01-16T19:04:04.835Z info: Setting up user subscription for MCP context: 671ac5e402a302cf6ef3088e
[api-local] [api] Registered handler for channel "user-updates-671ac5e402a302cf6ef3088e" for event "userUpdated"
[api-local] [api] 2026-01-16T19:04:04.835Z info: Successfully subscribed to user updates for MCP context: 671ac5e402a302cf6ef3088e
[api-local] [api] Starting WebSocket connection...
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"protocolVersion":"2025-06-18","capabilities":{"tools":{"listChanged":true},"prompts":{"listChanged":true},"completions":{},"resources":{"listChanged":true}},"serverInfo":{"name":"Sunsama MCP Server","version":"0.1.0"}},"jsonrpc":"2.0","id":0}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'notifications/initialized', 'jsonrpc': '2.0'}
[voice] INFO:sunsama_voice.bot:Timer: MCP Session created in 0.0885460376739502 seconds
[voice] DEBUG:sunsama_voice.bot:Starting bot with room_url: https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/sunsama_voice/models.py:254: DeprecationWarning: FalSmartTurnAnalyzer is deprecated and will be removed in a future version. Use LocalSmartTurnAnalyzerV3 instead.
[voice]   turn_analyzer = FalSmartTurnAnalyzer(
[voice] DEBUG:pipecat.audio.vad.silero:Loading Silero VAD model...
[voice] DEBUG:pipecat.audio.vad.silero:Loaded Silero VAD
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/processors/aggregators/llm_response.py:326: DeprecationWarning: GoogleUserContextAggregator (likely created with create_context_aggregator()) is deprecated and will be removed in a future version. Use the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice]   super().__init__(**kwargs)
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/processors/aggregators/llm_response.py:326: DeprecationWarning: GoogleAssistantContextAggregator (likely created with create_context_aggregator()) is deprecated and will be removed in a future version. Use the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice]   super().__init__(**kwargs)
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/transports/base_input.py:135: DeprecationWarning: Parameter 'turn_analyzer' is deprecated, use `LLMUserAggregator`'s new `user_turn_strategies` parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.processors.frame_processor:Linking Pipeline#0::Source -> DailyInputTransport#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking DailyInputTransport#0 -> RTVIProcessor#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking RTVIProcessor#0 -> ClientMessageProcessor#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking ClientMessageProcessor#0 -> CustomUserIdleProcessor#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking CustomUserIdleProcessor#0 -> GoogleUserContextAggregator#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking GoogleUserContextAggregator#0 -> GoogleLLMService#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking GoogleLLMService#0 -> CartesiaTTSService#1
[voice] DEBUG:pipecat.processors.frame_processor:Linking CartesiaTTSService#1 -> DailyOutputTransport#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking DailyOutputTransport#0 -> GoogleAssistantContextAggregator#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking GoogleAssistantContextAggregator#0 -> Pipeline#0::Sink
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/pipeline/task.py:273: DeprecationWarning: Field 'observers' is deprecated, use the 'observers' parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.processors.frame_processor:Linking PipelineTask#0::Source -> Pipeline#0
[voice] DEBUG:pipecat.processors.frame_processor:Linking Pipeline#0 -> PipelineTask#0::Sink
[voice] INFO:sunsama_voice.bot:Timer: Pipeline created in 0.1510629653930664 seconds
[voice] INFO:sunsama_voice.mcp:Fetching resource sunsama://user/authentication with args: None	sunsama://user/authentication
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'resources/read', 'params': {'uri': 'sunsama://user/authentication'}, 'jsonrpc': '2.0', 'id': 1}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"contents":[{"uri":"sunsama://user/authentication","mimeType":"text/plain","text":"authenticated"}]},"jsonrpc":"2.0","id":1}
[voice] INFO:sunsama_voice.mcp:Resource sunsama://user/authentication result: meta=None contents=[TextResourceContents(uri=AnyUrl('sunsama://user/authentication'), mimeType='text/plain', meta=None, text='authenticated')]
[voice] INFO:sunsama_voice.mcp:Resource sunsama://user/authentication result: uri=AnyUrl('sunsama://user/authentication') mimeType='text/plain' meta=None text='authenticated'
[voice] INFO:sunsama_voice.mcp:Handling resource update: uri sunsama://user/authentication authenticated 2026-01-16 11:04:04.903462 error=None status=None
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'resources/list', 'jsonrpc': '2.0', 'id': 2}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"resources":[{"uri":"sunsama://user/authentication","name":"get_user_authentication_status","description":"Retrieves the user's authentication status.","mimeType":"application/json"},{"uri":"sunsama://me","name":"get_user_info","description":"Critical information about the user like their name, timezone, and the current time where they're calling in from. Use this to personalize the conversation.","mimeType":"application/json"},{"uri":"sunsama://email/accounts","name":"list_email_accounts","description":"Lists email accounts the user has connected to Sunsama.","mimeType":"application/json"},{"uri":"sunsama://daily-highlight","name":"get_last_daily_highlight","description":"Retrieves their journal entry from their last workday in Markdown format.","mimeType":"text/markdown"},{"uri":"sunsama://backlog/folders","name":"get_backlog_folders","description":"Retrieves the user's backlog folders.","mimeType":"application/json"},{"uri":"sunsama://active-timer","name":"get_active_timer","description":"Retrieves information about the currently active timer, including which task has the timer running and when it was started.","mimeType":"application/json"},{"uri":"sunsama://ui/available-actions","name":"get_available_ui_actions","description":"Retrieves the list of available user interface actions that can be triggered by the assistant. This list may change based on the user's current context and permissions. Each action includes its actionId, type, and context information.","mimeType":"application/json"}]},"jsonrpc":"2.0","id":2}
[voice] INFO:sunsama_voice.mcp:Resource updated: uri sunsama://user/authentication
[voice] INFO:sunsama_voice.bot:Timer: Authentication status checked in 0.15551996231079102 seconds
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'prompts/get', 'params': {'name': 'braindump', 'arguments': {}}, 'jsonrpc': '2.0', 'id': 3}
[api-local] [api] preFetchResources:get_backlog_folders:317522: 1.969ms
[api-local] [api] preFetchResources:get_user_info:436506: 6.557ms
[api-local] [api] preFetchResources:BRAINDUMP: 6.712ms
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"messages":[{"role":"user","content":{"type":"text","text":"You are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don't repeat long task titles or information e.g. \"Got it\" instead \"Got it, I'll add a task for two hours for you to work on the presentation today\"\n\nYour personality and philosophy:\n- You don't buy into hustle culture. For you, less is more. It's better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, \"Deep Work\" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user's time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn't been implemented yet.\n- Do not regurgitate what the user just said, that's very annoying. Just say \"Got it\" or \"Alright\", etc.\n- Always use units that are more intuitive. For example:\n    - Don't say \"270 minutes\", say \"4 and a half hours\".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn't say things like \"October 2nd 2025\", say \"today\", \"tomorrow\", \"thursday\" or \"next tuesday\" or if it is more than a few weeks in the past or future say the date without the year (e.g. \"December 14th\"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool \"search_tasks\". If the user mentions they are interested in tasks for a specific day you should use the tool \"get_tasks_for_day\" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool \"get_weekly_objectives\" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don't list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they'd like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don't align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool \"get_total_planned_time\" and check individual tasks for overcommitment using \"get_tasks_for_day\". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they'd like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say \"I'd like to send an update to investors at the end of the day\" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as \"your Calendar calendar\" you might say \"your Outlook calendar\". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they've rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user's connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user's day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don't block time on the calendar\n- `hold`: Events with \"HOLD\", \"OOO\" (out of office), or \"Focus time\" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: \"in the next two weeks\", \"in the next month\", \"in the next quarter\", \"in the next year\", \"someday\", \"never\". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut \"Y\" while in the app or if they have the desktop app installed they can use the global shortcut \"Command Shift Y\" on macOS or \"Control Shift Y\" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using \"Heisenberg\" for yourself and \"Sunny\" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., \"fix stuttering voice app\") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as 'Heisenberg' and the user responding with 'Hi, Simon.'\n\nYour Job Description:\nYou are helping the user with a \"braindump\" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they're saying into discrete tasks that can be created in their backlog.\n- Don't interrupt them while they're rambling - let them get everything out.\n- Once they indicate they're done rambling (by saying things like \"that's it\", \"I think that's everything\", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool \"create_braindump_task\" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you're helping them organize their thoughts.\n- Be careful and use the \"change_backlog_folder\" tool to move tasks to the appropriate folder and \"add_task_to_channel\" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like \"Hey! Just start rambling and I'll take care of organizing your thoughts into tasks.\" If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them."}},{"role":"user","content":{"type":"resource","resource":{"uri":"sunsama://me","mimeType":"application/json","text":"{\"user\":{\"name\":\"Zane Mccaig\",\"email\":\"zane@sunsama.com\",\"timezone\":\"America/Vancouver\",\"maxWorkHoursPerDay\":8,\"currentTimeForUser\":\"11:04 AM\",\"currentDayForUser\":\"2026-01-16\",\"currentWeekDayForUser\":\"Friday\",\"calendars\":[{\"id\":\"sunsama-7de256a2-e753-401f-b601-e5c05638dc97\",\"name\":\"Sunsama Calendar\",\"accessRole\":\"owner\",\"provider\":\"sunsama-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":true,\"includedInAutoImportingOfEvents\":false},{\"id\":\"zane@sunsama.com\",\"name\":\"Zane Mccaig\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":true,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":true},{\"id\":\"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com\",\"name\":\"test 1\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com\",\"name\":\"test 2\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com\",\"name\":\"test 3\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com\",\"name\":\"test 4\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com\",\"name\":\"test 4\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com\",\"name\":\"test 5\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com\",\"name\":\"Zane's personal test calendar\",\"accessRole\":\"owner\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"en.canadian#holiday@group.v.calendar.google.com\",\"name\":\"Holidays in Canada\",\"accessRole\":\"reader\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"en.usa#holiday@group.v.calendar.google.com\",\"name\":\"Holidays in United States\",\"accessRole\":\"reader\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com\",\"name\":\"Phases of the Moon\",\"accessRole\":\"reader\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com\",\"name\":\"Zane’s tasks - sunsama.com (via Asana)\",\"accessRole\":\"reader\",\"provider\":\"google-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":false},{\"id\":\"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA\",\"name\":\"Calendar\",\"accessRole\":\"owner\",\"provider\":\"outlook-calendar\",\"isDefaultCalendarForSchedulingEvents\":false,\"isDefaultCalendarForTimeboxing\":false,\"includedInAutoImportingOfEvents\":true}],\"callSchedule\":[{\"workflow\":\"PLANNING_CALL\",\"schedule\":[{\"isoDayIndex\":1,\"dayName\":\"Monday\",\"enabled\":false,\"time\":null},{\"isoDayIndex\":2,\"dayName\":\"Tuesday\",\"enabled\":true,\"time\":{\"hour\":9,\"minute\":30,\"formatted\":\"9:30 AM\"}},{\"isoDayIndex\":3,\"dayName\":\"Wednesday\",\"enabled\":true,\"time\":{\"hour\":9,\"minute\":30,\"formatted\":\"9:30 AM\"}},{\"isoDayIndex\":4,\"dayName\":\"Thursday\",\"enabled\":true,\"time\":{\"hour\":10,\"minute\":0,\"formatted\":\"10:00 AM\"}},{\"isoDayIndex\":5,\"dayName\":\"Friday\",\"enabled\":false,\"time\":null},{\"isoDayIndex\":6,\"dayName\":\"Saturday\",\"enabled\":false,\"time\":null},{\"isoDayIndex\":7,\"dayName\":\"Sunday\",\"enabled\":false,\"time\":null}],\"nextScheduledCall\":\"2026-01-14T17:30:00.000Z\"}],\"autoImportEventsEnabled\":false,\"importEventExclusionFilters\":[\"hold\",\"multi-day-all-day\",\"single-day-all-day\"],\"autoImportEventCalendarIds\":[\"zane@sunsama.com\",\"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA\"]}}"}}},{"role":"user","content":{"type":"resource","resource":{"uri":"sunsama://backlog/folders","mimeType":"application/json","text":"{\"folders\":[]}"}}}]},"jsonrpc":"2.0","id":3}
[voice] INFO:sunsama_voice.mcp:Handling resource update: uri sunsama://me {"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane's personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}} 2026-01-16 11:04:04.930576 error=None status=None
[voice] INFO:sunsama_voice.mcp:Resource updated: uri sunsama://me
[voice] INFO:sunsama_voice.mcp:Handling resource update: uri sunsama://backlog/folders {"folders":[]} 2026-01-16 11:04:04.930707 error=None status=None
[voice] INFO:sunsama_voice.mcp:Resource updated: uri sunsama://backlog/folders
[voice] INFO:sunsama_voice.mcp:Resources: ['get_user_authentication_status', 'get_user_info', 'list_email_accounts', 'get_last_daily_highlight', 'get_backlog_folders', 'get_active_timer', 'get_available_ui_actions'] get_user_info
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/list', 'jsonrpc': '2.0', 'id': 4}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"tools":[{"name":"create_task","description":"Creates a single task with a title, optional notes, and estimated time.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"title":{"description":"A short title of the task, should not be more than a few words","type":"string"},"notes":{"description":"All extra details the user shared about the task, in HTML format","type":"string"},"timeEstimate":{"description":"The estimated time in minutes for the task","type":"number"},"objectiveId":{"description":"The _id of the weekly objective the task should be associated with, if any.","type":"string"},"day":{"description":"The day the task should be scheduled to in YYYY-MM-DD format.","type":"string"},"backlog":{"description":"Whether the task should be added to the backlog.","type":"object","properties":{"timeBucket":{"description":"The time bucket captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: \"in the next two weeks\", \"in the next month\", \"in the next quarter\", \"in the next year\", \"someday\", \"never\". ","type":"string","enum":["in the next two weeks","in the next month","in the next quarter","in the next year","someday","never"]},"folderId":{"description":"The _id of the backlog folder the task should be added.","type":"string"}}},"alreadyInTaskList":{"description":"Whether the task is already in the user's task list or calendar.","type":"boolean"},"channel":{"description":"The channel the task should be added to. This does not need to be perfect. The closest match will be used. If not provided a channel will be added automatically as long as the user did not disable the channel prediction feature.","type":"string"},"position":{"default":"bottom","description":"Where to place the task in the list. Defaults to bottom. If the user asks for another position you should re-order the task after creating it.","type":"string","enum":["top","bottom"]},"subtasks":{"type":"array","items":{"type":"object","properties":{"title":{"description":"The title of the subtask","type":"string"}},"required":["title"]}},"recurrenceRule":{"description":"The recurrence rule for the task in RRULE format. If provided the task will be created as a recurring task.","type":"string"},"recurringTaskStartTime":{"description":"The start time for the recurring task in 12 hour \"h:mm A\" format. Only used when recurrenceRule is provided.","type":"string"},"isRecurringTaskStartTimeOnlyAnEstimate":{"description":"Whether the recurring task start time is only an estimate and not a rigid start time. Only used when recurrenceRule and recurringTaskStartTime are provided.","type":"boolean"}},"required":["title","day","alreadyInTaskList"]},"execution":{"taskSupport":"forbidden"}},{"name":"create_braindump_task","description":"Creates a single task in the backlog with a title, optional notes, estimated time, time horizon, and optional folder.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"title":{"description":"A short title of the task, should not be more than a few words","type":"string"},"notes":{"description":"All extra details the user shared about the task, in HTML format","type":"string"},"timeEstimate":{"description":"The estimated time in minutes for the task","type":"number"},"folderId":{"description":"The _id of the backlog folder the task should be added.","type":"string"},"timeBucket":{"description":"The time bucket captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: \"in the next two weeks\", \"in the next month\", \"in the next quarter\", \"in the next year\", \"someday\", \"never\". ","type":"string","enum":["in the next two weeks","in the next month","in the next quarter","in the next year","someday","never"]},"channel":{"description":"The channel the task should be added to. This does not need to be perfect. The closest match will be used. If not provided a channel will be added automatically as long as the user did not disable the channel prediction feature.","type":"string"},"subtasks":{"type":"array","items":{"type":"object","properties":{"title":{"description":"The title of the subtask","type":"string"}},"required":["title"]}}},"required":["title","timeBucket"]},"execution":{"taskSupport":"forbidden"}},{"name":"reposition_task_in_backlog","description":"Repositions a task within the backlog by moving it to a specific time bucket (horizon) and position (append/prepend).","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The unique identifier `_id` of the task to reposition.","type":"string"},"timeBucket":{"description":"The time bucket captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: \"in the next two weeks\", \"in the next month\", \"in the next quarter\", \"in the next year\", \"someday\", \"never\".","type":"string","enum":["in the next two weeks","in the next month","in the next quarter","in the next year","someday","never"]},"position":{"description":"Where to position the task in the bucket. \"prepend\" places it at the top, \"append\" places it at the bottom.","type":"string","enum":["append","prepend"]}},"required":["taskId","timeBucket"]},"execution":{"taskSupport":"forbidden"}},{"name":"change_backlog_folder","description":"Moves one or more tasks to a backlog folder. If folderId is null, removes tasks from their current folder.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskIds":{"description":"The unique identifier(s) `_id` of the task(s) to move. Can be a single task ID or an array of task IDs.","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"folderId":{"description":"The _id of the backlog folder to move the tasks to. If null, removes tasks from their current folder.","anyOf":[{"type":"string"},{"type":"null"}]}},"required":["taskIds"]},"execution":{"taskSupport":"forbidden"}},{"name":"align_task_with_objective","description":"Aligns a task with an objective.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to align with the objective.","type":"string"},"objectiveId":{"description":"The _id of the objective to align the task with.","type":"string"}},"required":["taskId","objectiveId"]},"execution":{"taskSupport":"forbidden"}},{"name":"add_task_to_channel","description":"Adds a task to a channel.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to add to the channel.","type":"string"},"channel":{"description":"The channel to add the task to. This does not need to be perfect. The closest match will be used.","type":"string"}},"required":["taskId","channel"]},"execution":{"taskSupport":"forbidden"}},{"name":"move_task_to_day","description":"Moves or defers a task to a specific date.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The unique identifier `_id` of the task to move.","type":"string"},"calendarDay":{"description":"The new date to move the task to in YYYY-MM-DD format.","type":"string"},"sortOrder":{"description":"The new sort order of the task. This should be an integer that is half way between the sort order of the task before it and the sort order of the task after it. If placing at the end of the list, use the sort order of the last task + 2048. If left blank, the task will be placed at the top of the list.","type":"number"}},"required":["taskId","calendarDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"move_task_from_backlog","description":"Moves a task out of the backlog and onto a specific date.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The unique identifier `_id` of the task to move.","type":"string"},"calendarDay":{"description":"The new date to move the task to in YYYY-MM-DD format.","type":"string"},"sortOrder":{"description":"The new sort order of the task. This should be an integer that is half way between the sort order of the task before it and the sort order of the task after it. If placing at the end of the list, use the sort order of the last task + 2048. If left blank, the task will be placed at the top of the list.","type":"number"}},"required":["taskId","calendarDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"unarchive_task","description":"Unarchives a task and moves it to a specific date or the backlog if no date is provided.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The unique identifier `_id` of the task to move.","type":"string"},"calendarDay":{"description":"The new date to move the task to in YYYY-MM-DD format.","type":"string"},"sortOrder":{"description":"The new sort order of the task. This should be an integer that is half way between the sort order of the task before it and the sort order of the task after it. If placing at the end of the list, use the sort order of the last task + 2048. If left blank, the task will be placed at the top of the list.","type":"number"}},"required":["taskId","calendarDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"move_task_to_backlog","description":"Moves a task to the backlog. IF THE USER ASKS YOU TO MOVE A TASK TO A SPECIFIC DAY THEN YOU SHOULD USE THE move_task_to_day TOOL NOT THIS ONE.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The unique identifier `_id` of the task to move.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"get_task_time_estimate","description":"Gets the time estimate for a task in minutes.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"title":{"description":"The title of the task. The estimate will be based on similar task names.","type":"string"}},"required":["title"]},"execution":{"taskSupport":"forbidden"}},{"name":"edit_task_recurrence_rule","description":"Updates the recurrence rule of an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to update.","type":"string"},"recurrenceRule":{"description":"The new recurrence rule for the task in RRULE format. The recurrence rule must not have more than one occurrence of a task on any given day.","type":"string"},"firstOccurrenceOnOrAfter":{"description":"The date to start the recurrence on or after. This should be in YYYY-MM-DD format. If not provided the first occurrence will be set according to the old recurrence rule or the current date of the task if no recurrence rule exists.","type":"string"},"startTime":{"description":"The start time of the task in 12 hour \"h:mm A\" format. If not provided the start time will be set according to the old recurrence rule or it will be omitted.","type":"string"},"isStartTimeOnlyAnEstimate":{"description":"Whether the start time is only an estimate and not a rigid start time. If not provided the start time will be set according to the old recurrence rule or it will be set to a rigid start time.","type":"boolean"}},"required":["taskId","recurrenceRule"]},"execution":{"taskSupport":"forbidden"}},{"name":"edit_task_title","description":"Updates the title of an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to update.","type":"string"},"title":{"description":"The new title for the task.","type":"string"}},"required":["taskId","title"]},"execution":{"taskSupport":"forbidden"}},{"name":"edit_task_time_estimate","description":"Updates the time estimate of an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to update. If multiple timeboxed events are present you must update the duration of the associated event instead.","type":"string"},"subtaskId":{"description":"The _id of the subtask to update. If not provided, the time estimate will be updated for the entire task. If the task has any subtasks with planned time, you must provide a subtaskId since the time estimate for the task will be calculated based on the subtasks.","type":"string"},"timeEstimate":{"description":"The new time estimate in minutes.","type":"number"}},"required":["taskId","timeEstimate"]},"execution":{"taskSupport":"forbidden"}},{"name":"append_task_notes","description":"Appends markdown notes to an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The ID of the task to update.","type":"string"},"notes":{"description":"The markdown notes to append to the task.","type":"string"}},"required":["taskId","notes"]},"execution":{"taskSupport":"forbidden"}},{"name":"delete_task","description":"Deletes an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to delete.","type":"string"}},"required":["taskId"]},"annotations":{"title":"Delete A Task","destructiveHint":true},"execution":{"taskSupport":"forbidden"}},{"name":"add_subtasks_to_task","description":"Adds multiple subtasks to an existing task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to add the subtask to.","type":"string"},"subtasks":{"description":"The subtasks to add to the task.","type":"array","items":{"type":"object","properties":{"title":{"description":"The title of the subtask.","type":"string"},"timeEstimate":{"description":"The estimated time in minutes for the subtask.","type":"number"}},"required":["title"]}}},"required":["taskId","subtasks"]},"execution":{"taskSupport":"forbidden"}},{"name":"restore_task","description":"Changes a task from deleted to not deleted.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to mark as not deleted.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"mark_task_as_completed","description":"Marks a task as completed. Can also be used to move a task to a previous day which auto-completes the task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to mark as completed.","type":"string"},"finishedDay":{"description":"A date in YYYY-MM-DD the task was completed.","type":"string"}},"required":["taskId","finishedDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"mark_task_as_incomplete","description":"Marks a task as incomplete.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of a completed task we want to mark as incomplete or \"to do\" again.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"edit_subtask_title","description":"Updates the title of an existing subtask.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the parent task.","type":"string"},"subtaskId":{"description":"The _id of the subtask to update.","type":"string"},"newTitle":{"description":"The new title for the subtask.","type":"string"}},"required":["taskId","subtaskId","newTitle"]},"execution":{"taskSupport":"forbidden"}},{"name":"mark_subtask_as_completed","description":"Marks a subtask of an existing task as completed.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the parent task.","type":"string"},"subtaskId":{"description":"The _id of the subtask to mark as completed.","type":"string"}},"required":["taskId","subtaskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"mark_subtask_as_incomplete","description":"Marks a subtask of an existing task as incomplete.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the parent task.","type":"string"},"subtaskId":{"description":"The _id of the subtask to mark as incomplete.","type":"string"}},"required":["taskId","subtaskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"reorder_tasks","description":"Reorders tasks for the calendar day according to the provided order of taskIds.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskIds":{"description":"The _id(s) of the task(s) in the order they should appear.","type":"array","items":{"type":"string"}},"calendarDay":{"description":"The date to reorder tasks for in YYYY-MM-DD format.","type":"string"}},"required":["taskIds","calendarDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"get_backlog_tasks","description":"Fetches the users backlog tasks","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"page":{"default":0,"description":"The page number to fetch (0-based)","type":"number"},"queryId":{"description":"All pages > 0 must pass in the queryId from the first page.","type":"string"}}},"execution":{"taskSupport":"forbidden"}},{"name":"get_archived_tasks","description":"Fetches the users archived tasks","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"offset":{"default":0,"description":"The offset to fetch from","type":"number"}}},"execution":{"taskSupport":"forbidden"}},{"name":"search_tasks","description":"Searches for tasks. Returns tasks that match the search term or are similar to the search term.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"searchTerm":{"description":"The search term to look for in task titles, notes, and comments","type":"string"}},"required":["searchTerm"]},"execution":{"taskSupport":"forbidden"}},{"name":"update_all_incomplete_recurring_task_instances","description":"Updates all incomplete instances of a recurring task to match the current task. This is useful when you want to apply changes made to one instance of a recurring task to all future incomplete instances.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the recurring task to update all incomplete instances for.","type":"string"},"updateType":{"default":"allIncomplete","description":"The type of update to perform. \"allIncomplete\" updates all incomplete instances starting from today, \"allAfterThisTask\" updates all incomplete instances starting after the date of the task given by taskId.","type":"string","enum":["allIncomplete","allAfterThisTask"]}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"delete_all_incomplete_recurring_task_instances","description":"Deletes all incomplete instances of a recurring task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the recurring task to delete all incomplete instances for.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"start_task_timer","description":"Starts the timer for a task or subtask. If a subtaskId is provided, starts the timer for that specific subtask.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to start the timer for.","type":"string"},"subtaskId":{"description":"The _id of the subtask to start the timer for. If not provided, starts the timer for the entire task.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"stop_task_timer","description":"Stops the timer for a task or subtask. If a subtaskId is provided, stops the timer for that specific subtask.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to stop the timer for.","type":"string"},"subtaskId":{"description":"The _id of the subtask to stop the timer for. If not provided, stops the timer for the entire task.","type":"string"}},"required":["taskId"]},"execution":{"taskSupport":"forbidden"}},{"name":"move_calendar_event","description":"Updates a calendar event's date, time, and/or duration.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to move. IMPORTANT: user must have owner or writer access to the event.","type":"string"},"startDate":{"description":"The target start date to move the event to, in YYYY-MM-DD format.","type":"string"},"startTime":{"description":"The target start time to move the event to, in 12 hour \"h:mm A\" format. Required if the event is not all day.","type":"string"},"duration":{"description":"The duration of the event in minutes. Required if the event is not all day","type":"number"},"isAllDay":{"description":"Whether the event is all day.","type":"boolean"}},"required":["eventId","startDate","isAllDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"create_calendar_event","description":"Creates a new calendar event.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"title":{"description":"The title of the calendar event.","type":"string"},"startDate":{"description":"The start date of the event in YYYY-MM-DD format. If this is in the past you must confirm with the user that you are creating a past event.","type":"string"},"startTime":{"description":"The start time of the event in 12 hour \"h:mm A\" format. Required if the event is not all day. If this is in the past you must confirm with the user that you are creating a past event.","type":"string"},"duration":{"default":60,"description":"The duration of the event in minutes. Required if the event is not all day","type":"number"},"isAllDay":{"default":false,"description":"Whether the event is all day.","type":"boolean"},"description":{"description":"Optional description of the event.","type":"string"},"calendarId":{"description":"The ID of the calendar to create the event in. If not provided, the default calendar will be used. IMPORTANT: user must have owner or writer access to the calendar.","type":"string"}},"required":["title","startDate"]},"execution":{"taskSupport":"forbidden"}},{"name":"timebox_a_task_to_calendar","description":"Timeboxes a task to the calendar. This will create a timebox event for the task. This may also be referred to as \"scheduling\" a task or \"adding a task to the calendar\".","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"taskId":{"description":"The _id of the task to timebox.","type":"string"},"startDate":{"description":"The start date of the event in YYYY-MM-DD format. If this is in the past you must confirm with the user that you are timeboxing a past task.","type":"string"},"startTime":{"description":"The start time of the event in 12 hour \"h:mm A\" format. If this is in the past you must confirm with the user that you are timeboxing a past task.","type":"string"},"duration":{"description":"The duration of the event in minutes. If not provided the timeEstimate of the task will be used or 30 minutes if the task has no time estimate.","type":"number"}},"required":["taskId","startDate","startTime"]},"execution":{"taskSupport":"forbidden"}},{"name":"delete_calendar_event","description":"Removes a calendar event and deletes all associated tasks. If the event is a meeting then any access role can remove the event. Otherwise only owners or writers can remove the event. Note: If the event is a meeting and the user is an owner or write this will remove the event for ALL attendees.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to remove.","type":"string"}},"required":["eventId"]},"annotations":{"title":"Removes A Calendar Event","destructiveHint":true},"execution":{"taskSupport":"forbidden"}},{"name":"import_task_from_calendar_event","description":"Imports a calendar event as a task.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to import as a task.","type":"string"}},"required":["eventId"]},"execution":{"taskSupport":"forbidden"}},{"name":"accept_meeting_invite","description":"Confirms attendance to a meeting that the user is invited to.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to accept the meeting invite for.","type":"string"}},"required":["eventId"]},"execution":{"taskSupport":"forbidden"}},{"name":"decline_meeting_invite","description":"Decline attendance to a meeting that the user is invited to.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to decline the meeting invite for.","type":"string"}},"required":["eventId"]},"execution":{"taskSupport":"forbidden"}},{"name":"set_calendar_event_allow_task_projections","description":"Sets whether tasks are allowed to be automatically projected (scheduled) at the same time as a calendar event. When set to true, tasks can be automatically projected during the event. When set to false, tasks cannot be automatically projected during the event. Note: This only affects automatic projections; users can still manually timebox tasks during this event.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"eventId":{"description":"The unique ID of the calendar event to set task projection settings for.","type":"string"},"allowTasksProjectedAtSameTime":{"description":"If true, allows tasks to be automatically projected at the same time as this event. If false, blocks tasks from being automatically projected at the same time as this event. Note: This only affects automatic projections; manual timeboxing is not affected.","type":"boolean"}},"required":["eventId","allowTasksProjectedAtSameTime"]},"execution":{"taskSupport":"forbidden"}},{"name":"toggle_auto_import_events","description":"Enables or disables automatic importing of calendar events to the daily task list.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"enabled":{"description":"Whether to enable (true) or disable (false) automatic importing of calendar events.","type":"boolean"}},"required":["enabled"]},"execution":{"taskSupport":"forbidden"}},{"name":"update_import_event_filters","description":"Updates the exclusion filters that determine which calendar events are excluded from automatic import. Events matching any of these filters will NOT be automatically imported.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"excludedEventFilters":{"description":"An array of exclusion filter types. Events matching any of these filters will be EXCLUDED from auto-import. Available filters: \"solo\" (events with no other invitees), \"transparent\" (non-blocking events), \"hold\" (events with HOLD/OOO/Focus time in title), \"unconfirmed\" (unconfirmed meeting invites), \"multi-day-all-day\" (multi-day all-day events), \"single-day-all-day\" (single-day all-day events).","type":"array","items":{"type":"string","enum":["solo","transparent","hold","unconfirmed","multi-day-all-day","single-day-all-day"]}}},"required":["excludedEventFilters"]},"execution":{"taskSupport":"forbidden"}},{"name":"update_calendar_preferences","description":"Updates preferences for a specific calendar including whether it is the default for tasks, default for events, and whether it is included in auto-importing of events.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"calendarId":{"description":"The ID of the calendar to update preferences for.","type":"string"},"isDefaultForTasks":{"description":"Whether this calendar should be the default calendar for timeboxing tasks. If not provided, this preference will not be changed.","type":"boolean"},"isDefaultForEvents":{"description":"Whether this calendar should be the default calendar for scheduling events. If not provided, this preference will not be changed.","type":"boolean"},"includedInAutoImportingOfEvents":{"description":"Whether this calendar should be included in automatic importing of calendar events. If not provided, this preference will not be changed.","type":"boolean"}},"required":["calendarId"]},"execution":{"taskSupport":"forbidden"}},{"name":"delete_email_thread","description":"Deletes an email thread from Gmail or Outlook.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"accountId":{"description":"The ID of the email account you are looking at.","type":"string"},"accountService":{"description":"This is either \"outlook\" or \"gmail\", depending on the email provider.","type":"string"},"threadId":{"description":"The ID of the thread to delete.","type":"string"}},"required":["accountId","accountService","threadId"]},"execution":{"taskSupport":"forbidden"}},{"name":"mark_email_thread_as_read","description":"Marks an email thread as read.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"accountId":{"description":"The ID of the email account.","type":"string"},"accountService":{"description":"This is either \"outlook\" or \"gmail\".","type":"string"},"threadId":{"description":"The ID of the thread to mark as read.","type":"string"}},"required":["accountId","accountService","threadId"]},"execution":{"taskSupport":"forbidden"}},{"name":"create_follow_up_task_from_email","description":"Turn the email thread into a task to be followed up with later.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"accountId":{"description":"The ID of the email account you are looking at.","type":"string"},"accountService":{"description":"This is either \"outlook\" or \"gmail\", depending on the result of list_email_accounts.","type":"string"},"threadId":{"description":"The ID of the thread to mark as read.","type":"string"},"notes":{"description":"Any notes the user mentioned about the task/email.","type":"string"},"timeEstimate":{"description":"The estimated time in minutes for the task.","type":"number"}},"required":["accountId","accountService","threadId"]},"execution":{"taskSupport":"forbidden"}},{"name":"list_email_threads","description":"Lists email threads for a given Gmail account. You MUST specify at least a `labels` or a `search` parameter to avoid fetching irrelevant emails.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"accountId":{"description":"The ID of the email account to list threads from.","type":"string"},"labels":{"description":"Optional list of Gmail labels to filter by, e.g., [\"INBOX\", \"IMPORTANT\"]","type":"array","items":{"type":"string"}},"search":{"description":"Optional Gmail search query. Example: `after:2025-04-01 before:2025-04-17` or `is:unread`.","type":"string"},"pageToken":{"description":"Optional token for paginating through results.","type":"string"}},"required":["accountId"]},"execution":{"taskSupport":"forbidden"}},{"name":"create_weekly_objective","description":"Creates a new weekly objective.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"title":{"description":"The title of the weekly objective.","type":"string"},"weekStartDay":{"description":"The start day of the week in YYYY-MM-DD format.","type":"string"},"timeEstimate":{"description":"The estimated time in minutes for the objective.","type":"number"},"channel":{"description":"The channel name to associate with the objective. This does not need to be perfect. The closest match will be used.","type":"string"}},"required":["title","weekStartDay"]},"execution":{"taskSupport":"forbidden"}},{"name":"send_call_summary","description":"Sends a summary of our call via email.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"summaryIntroduction":{"description":"A short introduction to the summary. This will be used as the first line of the summary email.\nExample:\nHere is the summary of our call for today June 25th, 2025:\n","type":"string"},"summaryHighlights":{"description":"A list of highlights from the call. This will be used as the second line of the summary email.\nExample:\n- You planned your day focusing on refining the voice assistant.\n- Created a weekly objective for this goal.\n- Added key backlog tasks: refining the NLU model, bug fixes, API documentation, and unit tests.\n- You scheduled a sync with Diane at 2:30 PM.\n- You set a planned shutdown time of 5 PM.\n","type":"array","items":{"type":"string"}},"summaryFooter":{"description":"A short footer to the summary. This will be used as the last line of the summary email.\n                    \nExample:\nThis plan keeps your day focused, balanced, and aligned with your objectives.\n","type":"string"}}},"execution":{"taskSupport":"forbidden"}},{"name":"log_user_feedback","description":"Logs user feedback.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"feedback":{"description":"A summary of the feedback you want to log.","type":"string"},"transcript":{"description":"A transcript of the exact feedback you want to log.","type":"string"},"bugReports":{"description":"A list of bugs you want to report.","type":"array","items":{"type":"object","properties":{"bug":{"description":"The bug you want to report.","type":"string"},"description":{"description":"A detailed description of the bug.","type":"string"}},"required":["bug"]}},"featureRequests":{"description":"A list of feature requests you want to log.","type":"array","items":{"type":"object","properties":{"feature":{"description":"The feature you want to request.","type":"string"},"description":{"description":"A detailed description of the feature.","type":"string"}},"required":["feature"]}}},"required":["feedback"]},"execution":{"taskSupport":"forbidden"}},{"name":"set_shutdown_time","description":"Sets the shutdown time for a specific day.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"calendarDay":{"description":"The day to set the shutdown time for, in YYYY-MM-DD format.","type":"string"},"hour":{"description":"Hour of the shutdown time (0-23)","type":"number"},"minute":{"description":"Minute of the shutdown time (0-59)","type":"number"},"addToTheCalendar":{"description":"Whether to create a shutdown task and calendar event for the day.","default":false,"type":"boolean"}},"required":["calendarDay","hour","minute"]},"execution":{"taskSupport":"forbidden"}},{"name":"adjust_call_schedule","description":"Adjusts the schedule for voice assistant phone calls. Only one call per day is supported. Updating the schedule will reset the next call time to the next available time after today.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"daySchedules":{"type":"array","items":{"type":"object","properties":{"isoDayIndex":{"description":"ISO weekday number (1=Monday, 7=Sunday)","type":"number","minimum":1,"maximum":7},"enabled":{"default":true,"description":"Whether calls should be enabled on this day","type":"boolean"},"hour":{"description":"The hour to set the call time to (0-23). If not provided the old value will be used.","type":"number","minimum":0,"maximum":23},"minute":{"description":"The minute for the next call (00, 15, 30, 45). If not provided the old value will be used.","type":"string","enum":["15","30","45","00"]}},"required":["isoDayIndex"]}}}},"execution":{"taskSupport":"forbidden"}},{"name":"schedule_next_call","description":"Schedules the next phone call at a specific date and time. This will skip all other scheduled calls until this one. Useful for temporarily disabling calls for a few days or scheduling a call back in the short term.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"nextCallDate":{"description":"The date for the next call in YYYY-MM-DD format.","type":"string"},"hour":{"description":"The hour for the next call (0-23).","type":"number"},"minute":{"description":"The minute for the next call (00, 15, 30, 45).","type":"string","enum":["15","30","45","00"]}},"required":["nextCallDate","hour","minute"]},"execution":{"taskSupport":"forbidden"}},{"name":"create_channel","description":"Creates a new channel for the user.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"channelName":{"description":"The name of the channel to create.","type":"string"},"categoryName":{"description":"The name of the category this should belong to. If not provided one will be assigned automatically.","type":"string"},"isPersonal":{"default":false,"description":"Whether the channel is a personal channel. If not provided it will be assumed to be a work channel. This option is ignored if a category name is provided.","type":"boolean"}},"required":["channelName"]},"execution":{"taskSupport":"forbidden"}},{"name":"complete_onboarding_guide","description":"Completes the onboarding guide for the user.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"dayPlanned":{"description":"The day the user planned during their onboarding guide. In YYYY-MM-DD format.","type":"string"}},"required":["dayPlanned"]},"execution":{"taskSupport":"forbidden"}},{"name":"trigger_user_interface_action","description":"Triggers an action in the user interface that the user is currently looking at. Using one of the actionIds from the get_available_ui_actions resource. YOU ABSOLUTELY MUST ONLY USE actionIds from the latest call to get_available_ui_actions. All other actionIds are invalid and will not work.\n    - Navigation type actions: Navigate to a specific location in the user interface.\n    - Highlight type actions: Highlight an element in the user interface to make it easy for the user to find it.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"actionId":{"description":"The action ID for a user interface action to trigger. Use the get_available_ui_actions resource to see what user interface actions are currently available.","type":"string"},"params":{"description":"Optional parameters for the navigation. As given by the get_available_ui_actions resource for the specific action.","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["actionId"]},"execution":{"taskSupport":"forbidden"}}]},"jsonrpc":"2.0","id":4}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'resources/templates/list', 'jsonrpc': '2.0', 'id': 5}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"resourceTemplates":[{"name":"get_tasks_for_day","uriTemplate":"sunsama://tasks/{calendarDay}","description":"Gets all the tasks already created for the user for the day.","mimeType":"application/json"},{"name":"get_total_planned_time","uriTemplate":"sunsama://total-planned-time/{calendarDay}","description":"Retrieves the total planned time for the user for a given calendar day. This includes the total planned work time, the total planned personal time and the estimated earliest possible shutdown time.","mimeType":"application/json"},{"name":"get_calendar_events_for_day","uriTemplate":"sunsama://calendar/events/{calendarDay}","description":"Retrieves calendar events for a specific date","mimeType":"application/json"},{"name":"get_weekly_objectives","uriTemplate":"sunsama://objectives{/calendarDay}","description":"Retrieves the user's weekly objectives. If calendarDay is provided, returns objectives for that week. If not provided, returns objectives for the current week.","mimeType":"application/json"}]},"jsonrpc":"2.0","id":5}
[voice] INFO:sunsama_voice.mcp:Subscribed to resource sunsama://me with args: {}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'resources/subscribe', 'params': {'uri': 'sunsama://me'}, 'jsonrpc': '2.0', 'id': 6}
[api-local] [api]
[api-local] [api]
[api-local] [api]
[api-local] [api] Subscribing to resource { uri: 'sunsama://me' } {
[api-local] [api]   signal: AbortSignal { aborted: false },
[api-local] [api]   sessionId: '64832d8f-2289-4bf4-8f8b-0452890bb28f',
[api-local] [api]   _meta: undefined,
[api-local] [api]   sendNotification: [AsyncFunction: sendNotification],
[api-local] [api]   sendRequest: [AsyncFunction: sendRequest],
[api-local] [api]   authInfo: {
[api-local] [api]     token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzFhYzVlNDAyYTMwMmNmNmVmMzA4OGUiLCJzZXNzaW9uSWQiOiIxOTVmNDI0NC05YjFmLTRlYmItOTMwZC0wZTExNTAwNzZkYzkiLCJzZXNzaW9uTm9uY2UiOiJhY2ZlZTc2OS1jZGU2LTRkMWYtYTU5Ni0xMzk0MTRkMjUxNjAiLCJncm91cElkIjoiNjcxYWM1ZTkwMmEzMDJjZjZlZjMwODkwIiwiZ3JvdXBVcmxQYXRoIjoiMTcyOTgwNzg0OTAzNjUxOTIiLCJpYXQiOjE3Njg1OTAyMTYsImV4cCI6MTc3MTE4MjIxNn0.HHSuewYqBRl-IZkdiWcEJyiD6akgbtwnOIQ4Js71bZI',
[api-local] [api]     clientId: '195f4244-9b1f-4ebb-930d-0e1150076dc9',
[api-local] [api]     scopes: [],
[api-local] [api]     extra: {
[api-local] [api]       request: [Object],
[api-local] [api]       response: [Object],
[api-local] [api]       app: [Object],
[api-local] [api]       originalUrl: '/ai/mcp',
[api-local] [api]       req: '<original node req>',
[api-local] [api]       res: '<original node res>',
[api-local] [api]       socket: '<original node socket>'
[api-local] [api]     }
[api-local] [api]   },
[api-local] [api]   requestId: 6,
[api-local] [api]   requestInfo: undefined,
[api-local] [api]   taskId: undefined,
[api-local] [api]   taskStore: undefined,
[api-local] [api]   taskRequestedTtl: undefined,
[api-local] [api]   closeSSEStream: undefined,
[api-local] [api]   closeStandaloneSSEStream: undefined
[api-local] [api] }
[api-local] [api] Registered handler for channel "user-updates-671ac5e402a302cf6ef3088e" for event "userUpdated"
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"success":true},"jsonrpc":"2.0","id":6}
[voice] INFO:sunsama_voice.mcp:Resources: ['get_user_authentication_status', 'get_user_info', 'list_email_accounts', 'get_last_daily_highlight', 'get_backlog_folders', 'get_active_timer', 'get_available_ui_actions'] get_backlog_folders
[voice] INFO:sunsama_voice.mcp:Subscribed to resource sunsama://backlog/folders with args: {}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'resources/subscribe', 'params': {'uri': 'sunsama://backlog/folders'}, 'jsonrpc': '2.0', 'id': 7}
[api-local] [api]
[api-local] [api]
[api-local] [api]
[api-local] [api] Subscribing to resource { uri: 'sunsama://backlog/folders' } {
[api-local] [api]   signal: AbortSignal { aborted: false },
[api-local] [api]   sessionId: '64832d8f-2289-4bf4-8f8b-0452890bb28f',
[api-local] [api]   _meta: undefined,
[api-local] [api]   sendNotification: [AsyncFunction: sendNotification],
[api-local] [api]   sendRequest: [AsyncFunction: sendRequest],
[api-local] [api]   authInfo: {
[api-local] [api]     token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzFhYzVlNDAyYTMwMmNmNmVmMzA4OGUiLCJzZXNzaW9uSWQiOiIxOTVmNDI0NC05YjFmLTRlYmItOTMwZC0wZTExNTAwNzZkYzkiLCJzZXNzaW9uTm9uY2UiOiJhY2ZlZTc2OS1jZGU2LTRkMWYtYTU5Ni0xMzk0MTRkMjUxNjAiLCJncm91cElkIjoiNjcxYWM1ZTkwMmEzMDJjZjZlZjMwODkwIiwiZ3JvdXBVcmxQYXRoIjoiMTcyOTgwNzg0OTAzNjUxOTIiLCJpYXQiOjE3Njg1OTAyMTYsImV4cCI6MTc3MTE4MjIxNn0.HHSuewYqBRl-IZkdiWcEJyiD6akgbtwnOIQ4Js71bZI',
[api-local] [api]     clientId: '195f4244-9b1f-4ebb-930d-0e1150076dc9',
[api-local] [api]     scopes: [],
[api-local] [api]     extra: {
[api-local] [api]       request: [Object],
[api-local] [api]       response: [Object],
[api-local] [api]       app: [Object],
[api-local] [api]       originalUrl: '/ai/mcp',
[api-local] [api]       req: '<original node req>',
[api-local] [api]       res: '<original node res>',
[api-local] [api]       socket: '<original node socket>'
[api-local] [api]     }
[api-local] [api]   },
[api-local] [api]   requestId: 7,
[api-local] [api]   requestInfo: undefined,
[api-local] [api]   taskId: undefined,
[api-local] [api]   taskStore: undefined,
[api-local] [api]   taskRequestedTtl: undefined,
[api-local] [api]   closeSSEStream: undefined,
[api-local] [api]   closeStandaloneSSEStream: undefined
[api-local] [api] }
[api-local] [api] Registered handler for channel "backlog-folder-updates-671ac5e902a302cf6ef30890-671ac5e402a302cf6ef3088e" for event "folderUpdated"
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"success":true},"jsonrpc":"2.0","id":7}
[voice] INFO:sunsama_voice.bot:Timer: Flow config created in 0.19129395484924316 seconds
[voice] DEBUG:pipecat_flows.actions:Registered handler for action type: tts_say
[voice] DEBUG:pipecat_flows.actions:Registered handler for action type: end_conversation
[voice] DEBUG:pipecat_flows.actions:Registered handler for action type: function
[voice] DEBUG:pipecat_flows.adapters:Creating Google adapter
[voice] DEBUG:pipecat_flows.manager:Initialized in static mode
[voice] DEBUG:sunsama_voice.bot:no dialout number; assuming dialin
[voice] INFO:sunsama_voice.bot:Starting the pipeline
[voice] INFO:sunsama_voice.bot:Timer: Pipeline started in 0.19174408912658691 seconds
[voice] DEBUG:pipecat.pipeline.runner:Runner PipelineRunner#0 started running PipelineTask#0
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: Starting. Waiting for StartFrame#0 to reach the end of the pipeline...
[voice] DEBUG:pipecat.audio.vad.vad_analyzer:Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.2 min_volume=0.6
[voice] INFO:pipecat.transports.daily.transport:Joining https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[voice] DEBUG:pipecat.services.cartesia.tts:Connecting to Cartesia TTS
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: StartFrame#0 reached the end of the pipeline, pipeline is now ready.
[voice] ERROR:pipecat.transports.daily.transport:Unable to send message: Unable to send messages before joining.
[voice] INFO:pipecat.transports.daily.transport:Joined https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[voice] DEBUG:pipecat.transports.daily.transport:Starting transcription: settings=language='en' model='nova-3' profanity_filter=True redact=False endpointing=True punctuate=True includeRawResponse=True extra={'interim_results': True}
[voice] DEBUG:pipecat.transports.daily.transport:Transcription started: {'instanceId': 'a1f2f6b7-b1ac-4202-85e5-d446cb6c3d3f', 'language': 'en', 'model': 'nova-3', 'startedBy': '0106bd40-d21f-4da2-8518-3c3c4997b2ae', 'transcriptId': 'e1c71759-439e-492b-92fd-3d5344c2492f'}
[voice] DEBUG:pipecat.transports.daily.transport:Start receiving audio
[voice] INFO:pipecat.transports.daily.transport:Participant joined 941aacac-ae67-454d-86a1-65308278e261
[voice] DEBUG:pipecat.transports.daily.transport:Starting to capture [microphone] audio from participant 941aacac-ae67-454d-86a1-65308278e261
[voice] INFO:sunsama_voice.bot:First participant joined: {'id': '941aacac-ae67-454d-86a1-65308278e261', 'info': {'isLocal': False, 'isOwner': True, 'joinedAt': 1768590245, 'permissions': {'canAdmin': ['participants', 'transcription', 'streaming'], 'canReceive': {'base': {'camera': True, 'customAudio': {'*': True}, 'customVideo': {'*': True}, 'microphone': True, 'screenAudio': True, 'screenVideo': True}}, 'canSend': ['customAudio', 'camera', 'microphone', 'customVideo', 'screenAudio', 'screenVideo'], 'hasPresence': True}}, 'media': {'camera': {'offReasons': ['user'], 'state': 'off', 'subscribed': 'unsubscribed'}, 'customAudio': {}, 'customVideo': {}, 'microphone': {'state': 'loading', 'subscribed': 'subscribed'}, 'screenAudio': {'offReasons': ['user'], 'state': 'off', 'subscribed': 'subscribed'}, 'screenVideo': {'offReasons': ['user'], 'state': 'off', 'subscribed': 'unsubscribed'}}}
[voice] DEBUG:pipecat.processors.frameworks.rtvi:Received client-ready: version 1.0.0
[voice] DEBUG:pipecat.processors.frameworks.rtvi:Client Details: library='@pipecat-ai/client-js' library_version='1.2.0' platform='macOS' platform_version='10.15.7' platform_details={'browser': 'Chrome', 'browser_version': '143.0.0.0', 'engine': 'Blink', 'platform_type': 'desktop'}
[voice] INFO:sunsama_voice.bot:Starting an in-app call
[voice] INFO:sunsama_voice.bot:Timer: Dialin/in-app call started in 1.073638916015625 seconds
[voice] DEBUG:pipecat_flows.manager:Initialized FlowManager
[voice] DEBUG:pipecat_flows.manager:Setting initial node: braindump
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat_flows/manager.py:768: DeprecationWarning: `transition_to` and `transition_callback` are deprecated and will be removed in 1.0.0. Use a "consolidated" `handler` that returns a tuple (result, next_node) instead.
[voice]   self._validate_node_config(node_id, node_config)
[voice] DEBUG:pipecat_flows.manager:Setting node: braindump
[voice] DEBUG:pipecat_flows.manager:Registered function: terminate_call
[voice] DEBUG:pipecat_flows.manager:Registered function: create_task
[voice] DEBUG:pipecat_flows.manager:Registered function: create_braindump_task
[voice] DEBUG:pipecat_flows.manager:Registered function: reposition_task_in_backlog
[voice] DEBUG:pipecat_flows.manager:Registered function: change_backlog_folder
[voice] DEBUG:pipecat_flows.manager:Registered function: align_task_with_objective
[voice] DEBUG:pipecat_flows.manager:Registered function: add_task_to_channel
[voice] DEBUG:pipecat_flows.manager:Registered function: move_task_to_day
[voice] DEBUG:pipecat_flows.manager:Registered function: move_task_from_backlog
[voice] DEBUG:pipecat_flows.manager:Registered function: unarchive_task
[voice] DEBUG:pipecat_flows.manager:Registered function: move_task_to_backlog
[voice] DEBUG:pipecat_flows.manager:Registered function: get_task_time_estimate
[voice] DEBUG:pipecat_flows.manager:Registered function: edit_task_recurrence_rule
[voice] DEBUG:pipecat_flows.manager:Registered function: edit_task_title
[voice] DEBUG:pipecat_flows.manager:Registered function: edit_task_time_estimate
[voice] DEBUG:pipecat_flows.manager:Registered function: delete_task
[voice] DEBUG:pipecat_flows.manager:Registered function: add_subtasks_to_task
[voice] DEBUG:pipecat_flows.manager:Registered function: restore_task
[voice] DEBUG:pipecat_flows.manager:Registered function: mark_task_as_completed
[voice] DEBUG:pipecat_flows.manager:Registered function: mark_task_as_incomplete
[voice] DEBUG:pipecat_flows.manager:Registered function: edit_subtask_title
[voice] DEBUG:pipecat_flows.manager:Registered function: mark_subtask_as_completed
[voice] DEBUG:pipecat_flows.manager:Registered function: mark_subtask_as_incomplete
[voice] DEBUG:pipecat_flows.manager:Registered function: reorder_tasks
[voice] DEBUG:pipecat_flows.manager:Registered function: get_backlog_tasks
[voice] DEBUG:pipecat_flows.manager:Registered function: get_archived_tasks
[voice] DEBUG:pipecat_flows.manager:Registered function: search_tasks
[voice] DEBUG:pipecat_flows.manager:Registered function: update_all_incomplete_recurring_task_instances
[voice] DEBUG:pipecat_flows.manager:Registered function: delete_all_incomplete_recurring_task_instances
[voice] DEBUG:pipecat_flows.manager:Registered function: start_task_timer
[voice] DEBUG:pipecat_flows.manager:Registered function: stop_task_timer
[voice] DEBUG:pipecat_flows.manager:Registered function: move_calendar_event
[voice] DEBUG:pipecat_flows.manager:Registered function: create_calendar_event
[voice] DEBUG:pipecat_flows.manager:Registered function: timebox_a_task_to_calendar
[voice] DEBUG:pipecat_flows.manager:Registered function: delete_calendar_event
[voice] DEBUG:pipecat_flows.manager:Registered function: import_task_from_calendar_event
[voice] DEBUG:pipecat_flows.manager:Registered function: accept_meeting_invite
[voice] DEBUG:pipecat_flows.manager:Registered function: decline_meeting_invite
[voice] DEBUG:pipecat_flows.manager:Registered function: set_calendar_event_allow_task_projections
[voice] DEBUG:pipecat_flows.manager:Registered function: toggle_auto_import_events
[voice] DEBUG:pipecat_flows.manager:Registered function: update_import_event_filters
[voice] DEBUG:pipecat_flows.manager:Registered function: update_calendar_preferences
[voice] DEBUG:pipecat_flows.manager:Registered function: create_weekly_objective
[voice] DEBUG:pipecat_flows.manager:Registered function: send_call_summary
[voice] DEBUG:pipecat_flows.manager:Registered function: log_user_feedback
[voice] DEBUG:pipecat_flows.manager:Registered function: set_shutdown_time
[voice] DEBUG:pipecat_flows.manager:Registered function: adjust_call_schedule
[voice] DEBUG:pipecat_flows.manager:Registered function: schedule_next_call
[voice] DEBUG:pipecat_flows.manager:Registered function: create_channel
[voice] DEBUG:pipecat_flows.manager:Registered function: get_user_info
[voice] DEBUG:pipecat_flows.manager:Registered function: get_last_daily_highlight
[voice] DEBUG:pipecat_flows.manager:Registered function: get_backlog_folders
[voice] DEBUG:pipecat_flows.manager:Registered function: get_active_timer
[voice] DEBUG:pipecat_flows.manager:Registered function: get_tasks_for_day
[voice] DEBUG:pipecat_flows.manager:Registered function: get_total_planned_time
[voice] DEBUG:pipecat_flows.manager:Registered function: get_calendar_events_for_day
[voice] DEBUG:pipecat_flows.manager:Registered function: get_weekly_objectives
[voice] DEBUG:pipecat_flows.manager:Updated LLM context using LLMMessagesUpdateFrame with strategy ContextStrategy.APPEND
[voice] DEBUG:pipecat_flows.manager:Updated LLM context
[voice] DEBUG:pipecat_flows.manager:Successfully set node: braindump
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.9231221675872803
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Hey.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 4
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0005168914794921875
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 13553, completion tokens: 17
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Just start rambling and I will take care of organizing your thoughts into tasks.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 80
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.00020194053649902344
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 TTFB: 0.16623306274414062
[voice] DEBUG:pipecat.transports.base_output:Bot started speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] <string>:4: DeprecationWarning: OpenAILLMContextAssistantTimestampFrame is deprecated and will be removed in a future version. Use LLMContextAssistantTimestampFrame with the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.transports.base_output:Bot stopped speaking
[voice] DEBUG:pipecat.transports.base_input:User started speaking
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: received interruption task frame InterruptionTaskFrame#0
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/transports/base_input.py:190: DeprecationWarning: Method 'turn_analyzer' is deprecated. Use `LLMUserAggregator`'s new `user_turn_strategies` parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.transports.daily.transport:Transcription (from: 941aacac-ae67-454d-86a1-65308278e261): [Sure. I'm just trying to]
[voice] DEBUG:pipecat.audio.turn.smart_turn.base_smart_turn:End of Turn result: EndOfTurnState.INCOMPLETE
[voice] DEBUG:pipecat.transports.daily.transport:Transcription (from: 941aacac-ae67-454d-86a1-65308278e261): [fill up my day. I need five tasks]
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/transports/base_input.py:190: DeprecationWarning: Method 'turn_analyzer' is deprecated. Use `LLMUserAggregator`'s new `user_turn_strategies` parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.transports.daily.transport:Transcription (from: 941aacac-ae67-454d-86a1-65308278e261): [labeled one through five.]
[voice] DEBUG:pipecat.audio.turn.smart_turn.base_smart_turn:End of Turn result: EndOfTurnState.INCOMPLETE
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/transports/base_input.py:190: DeprecationWarning: Method 'turn_analyzer' is deprecated. Use `LLMUserAggregator`'s new `user_turn_strategies` parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.transports.daily.transport:Transcription (from: 941aacac-ae67-454d-86a1-65308278e261): [I'll fill them in later.]
[voice] DEBUG:pipecat.audio.turn.smart_turn.base_smart_turn:End of Turn result: EndOfTurnState.COMPLETE
[voice] DEBUG:pipecat.transports.base_input:User stopped speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 1.2893450260162354
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:ab4037a7-6e5e-44c0-9b3b-e13632386f30
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:4ee49c06-29da-47cc-a51f-9eb903d5cbee
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:0bfad4e3-e326-466b-b46e-d7a3a6cabd1f
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:bdda1d96-7e9f-42e6-840a-0d29d17bc52a
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:db77c745-7f1a-4644-bc24-7cf5fd728774
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 13602, completion tokens: 140, cache read input tokens: 12911
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:ab4037a7-6e5e-44c0-9b3b-e13632386f30] with arguments {'timeBucket': 'someday', 'title': 'Task 1'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '67bf7847-22b4-4b3a-b8b4-c19b9d716dd8', 'status': 'started'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:4ee49c06-29da-47cc-a51f-9eb903d5cbee] with arguments {'timeBucket': 'someday', 'title': 'Task 2'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'e3077d51-2796-4de1-94ae-8fe9ad229e90', 'status': 'started'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:0bfad4e3-e326-466b-b46e-d7a3a6cabd1f] with arguments {'title': 'Task 3', 'timeBucket': 'someday'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '8a4b01af-bbae-4047-8c69-e17bccf21979', 'status': 'started'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:bdda1d96-7e9f-42e6-840a-0d29d17bc52a] with arguments {'timeBucket': 'someday', 'title': 'Task 4'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'de832174-7944-4d9d-9c2e-9fcf309b2b8d', 'status': 'started'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:db77c745-7f1a-4644-bc24-7cf5fd728774] with arguments {'title': 'Task 5', 'timeBucket': 'someday'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'f159557e-db7a-49ab-86a3-3de4ec305a6f', 'status': 'started'}
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallsStartedFrame: ['create_braindump_task:ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'create_braindump_task:4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'create_braindump_task:0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'create_braindump_task:bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'create_braindump_task:db77c745-7f1a-4644-bc24-7cf5fd728774']
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'timeBucket': 'someday', 'title': 'Task 1'}
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'timeBucket': 'someday', 'title': 'Task 2'}
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'title': 'Task 3', 'timeBucket': 'someday'}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'timeBucket': 'someday', 'title': 'Task 1'}}, 'jsonrpc': '2.0', 'id': 8}
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'timeBucket': 'someday', 'title': 'Task 4'}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'timeBucket': 'someday', 'title': 'Task 2'}}, 'jsonrpc': '2.0', 'id': 9}
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'title': 'Task 5', 'timeBucket': 'someday'}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'title': 'Task 3', 'timeBucket': 'someday'}}, 'jsonrpc': '2.0', 'id': 10}
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:ab4037a7-6e5e-44c0-9b3b-e13632386f30]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:4ee49c06-29da-47cc-a51f-9eb903d5cbee]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:0bfad4e3-e326-466b-b46e-d7a3a6cabd1f]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:bdda1d96-7e9f-42e6-840a-0d29d17bc52a]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:db77c745-7f1a-4644-bc24-7cf5fd728774]
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'timeBucket': 'someday', 'title': 'Task 4'}}, 'jsonrpc': '2.0', 'id': 11}
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'title': 'Task 5', 'timeBucket': 'someday'}}, 'jsonrpc': '2.0', 'id': 12}
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 1",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 2",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 3",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 4",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 5",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"{\"success\":true,\"task\":{\"_id\":\"696a8bb94ba9abe9e3dbeea0\",\"title\":\"Task 5\",\"notes\":\"\",\"timeEstimate\":\"15 minutes\",\"sortOrder\":-1768590265140,\"isPersonal\":false,\"isWork\":true,\"isPrivate\":false,\"isArchived\":false,\"completed\":false,\"isBacklogged\":true,\"scheduledDate\":\"not scheduled for a specific date\",\"subtasks\":[],\"channel\":\"work\",\"folder\":null,\"timeboxEventIds\":[]}}"}]},"jsonrpc":"2.0","id":12}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbeea0","title":"Task 5","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}', annotations=None, meta=None)] structuredContent=None isError=False
[voice] INFO:sunsama_voice.state:Tool result for create_braindump_task with args {'title': 'Task 5', 'timeBucket': 'someday'} is in progress. Skipping the push to context to avoid overwriting the result with out of date information
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'f159557e-db7a-49ab-86a3-3de4ec305a6f', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: db77c745-7f1a-4644-bc24-7cf5fd728774
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:db77c745-7f1a-4644-bc24-7cf5fd728774]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] WARNING:pipecat.processors.frameworks.rtvi:Caught an error while trying to handle context: sequence item 0: expected str instance, NoneType found
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'response': 'IN_PROGRESS'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'response': 'IN_PROGRESS'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'response': 'IN_PROGRESS'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'response': 'IN_PROGRESS'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"{\"success\":true,\"task\":{\"_id\":\"696a8bb94ba9abe9e3dbee9c\",\"title\":\"Task 2\",\"notes\":\"\",\"timeEstimate\":\"15 minutes\",\"sortOrder\":-1768590265140,\"isPersonal\":false,\"isWork\":true,\"isPrivate\":false,\"isArchived\":false,\"completed\":false,\"isBacklogged\":true,\"scheduledDate\":\"not scheduled for a specific date\",\"subtasks\":[],\"channel\":\"work\",\"folder\":null,\"timeboxEventIds\":[]}}"}]},"jsonrpc":"2.0","id":9}
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"{\"success\":true,\"task\":{\"_id\":\"696a8bb94ba9abe9e3dbee9a\",\"title\":\"Task 4\",\"notes\":\"\",\"timeEstimate\":\"15 minutes\",\"sortOrder\":-1768590265140,\"isPersonal\":false,\"isWork\":true,\"isPrivate\":false,\"isArchived\":false,\"completed\":false,\"isBacklogged\":true,\"scheduledDate\":\"not scheduled for a specific date\",\"subtasks\":[],\"channel\":\"work\",\"folder\":null,\"timeboxEventIds\":[]}}"}]},"jsonrpc":"2.0","id":11}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}', annotations=None, meta=None)] structuredContent=None isError=False
[voice] DEBUG:sunsama_voice.state:Pushing tool result for create_braindump_task with args {'timeBucket': 'someday', 'title': 'Task 2'} to context
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'e3077d51-2796-4de1-94ae-8fe9ad229e90', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}', annotations=None, meta=None)] structuredContent=None isError=False
[voice] DEBUG:sunsama_voice.state:Pushing tool result for create_braindump_task with args {'timeBucket': 'someday', 'title': 'Task 4'} to context
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'de832174-7944-4d9d-9c2e-9fcf309b2b8d', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 4ee49c06-29da-47cc-a51f-9eb903d5cbee
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: bdda1d96-7e9f-42e6-840a-0d29d17bc52a
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:4ee49c06-29da-47cc-a51f-9eb903d5cbee]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:bdda1d96-7e9f-42e6-840a-0d29d17bc52a]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"{\"success\":true,\"task\":{\"_id\":\"696a8bb94ba9abe9e3dbee98\",\"title\":\"Task 1\",\"notes\":\"\",\"timeEstimate\":\"15 minutes\",\"sortOrder\":-1768590265139,\"isPersonal\":false,\"isWork\":true,\"isPrivate\":false,\"isArchived\":false,\"completed\":false,\"isBacklogged\":true,\"scheduledDate\":\"not scheduled for a specific date\",\"subtasks\":[],\"channel\":\"work\",\"folder\":null,\"timeboxEventIds\":[]}}"}]},"jsonrpc":"2.0","id":8}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}', annotations=None, meta=None)] structuredContent=None isError=False
[voice] DEBUG:sunsama_voice.state:Pushing tool result for create_braindump_task with args {'timeBucket': 'someday', 'title': 'Task 1'} to context
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '67bf7847-22b4-4b3a-b8b4-c19b9d716dd8', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: ab4037a7-6e5e-44c0-9b3b-e13632386f30
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:ab4037a7-6e5e-44c0-9b3b-e13632386f30]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"{\"success\":true,\"task\":{\"_id\":\"696a8bb94ba9abe9e3dbee9e\",\"title\":\"Task 3\",\"notes\":\"\",\"timeEstimate\":\"15 minutes\",\"sortOrder\":-1768590265140,\"isPersonal\":false,\"isWork\":true,\"isPrivate\":false,\"isArchived\":false,\"completed\":false,\"isBacklogged\":true,\"scheduledDate\":\"not scheduled for a specific date\",\"subtasks\":[],\"channel\":\"work\",\"folder\":null,\"timeboxEventIds\":[]}}"}]},"jsonrpc":"2.0","id":10}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}', annotations=None, meta=None)] structuredContent=None isError=False
[voice] DEBUG:sunsama_voice.state:Pushing tool result for create_braindump_task with args {'title': 'Task 3', 'timeBucket': 'someday'} to context
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '8a4b01af-bbae-4047-8c69-e17bccf21979', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 0bfad4e3-e326-466b-b46e-d7a3a6cabd1f
[voice] DEBUG:sunsama_voice.processors:Resuming idle detection - all function calls complete
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:0bfad4e3-e326-466b-b46e-d7a3a6cabd1f]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.8298790454864502
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Got it, Heisenberg.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 19
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0006539821624755859
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [I have added those five placeholder tasks to your backlog.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 58
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0003719329833984375
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 14035, completion tokens: 29, cache read input tokens: 12870
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Is there anything else I can help you with for now?]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 51
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0005190372467041016
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 TTFB: 0.15716004371643066
[voice] DEBUG:pipecat.transports.base_output:Bot started speaking
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.8736069202423096
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:6d6bce49-5c24-4c6e-b1b4-d042fd24a72f
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15463, completion tokens: 28, cache read input tokens: 12870
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:6d6bce49-5c24-4c6e-b1b4-d042fd24a72f] with arguments {'timeBucket': 'someday', 'title': 'Task 5'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'c51389d2-a037-4673-9842-44edc8e0bf84', 'status': 'started'}
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallsStartedFrame: ['create_braindump_task:6d6bce49-5c24-4c6e-b1b4-d042fd24a72f']
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'timeBucket': 'someday', 'title': 'Task 5'}
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'timeBucket': 'someday', 'title': 'Task 5'}}, 'jsonrpc': '2.0', 'id': 13}
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 5",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"Task already exists."}],"isError":false},"jsonrpc":"2.0","id":13}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='Task already exists.', annotations=None, meta=None)] structuredContent=None isError=False
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'c51389d2-a037-4673-9842-44edc8e0bf84', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 6d6bce49-5c24-4c6e-b1b4-d042fd24a72f
[voice] DEBUG:sunsama_voice.processors:Resuming idle detection - all function calls complete
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.7852799892425537
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:567b1b3c-0871-4dc8-9f34-fe8592d2c922
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15463, completion tokens: 28
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:567b1b3c-0871-4dc8-9f34-fe8592d2c922] with arguments {'title': 'Task 5', 'timeBucket': 'someday'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '91bac8ca-25b5-40fc-a98b-cfeb76e84610', 'status': 'started'}
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallsStartedFrame: ['create_braindump_task:567b1b3c-0871-4dc8-9f34-fe8592d2c922']
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'title': 'Task 5', 'timeBucket': 'someday'}
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'title': 'Task 5', 'timeBucket': 'someday'}}, 'jsonrpc': '2.0', 'id': 14}
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 5",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"Task already exists."}],"isError":false},"jsonrpc":"2.0","id":14}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='Task already exists.', annotations=None, meta=None)] structuredContent=None isError=False
[voice] DEBUG:sunsama_voice.state:Pushing tool result for create_braindump_task with args {'title': 'Task 5', 'timeBucket': 'someday'} to context
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': '91bac8ca-25b5-40fc-a98b-cfeb76e84610', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 567b1b3c-0871-4dc8-9f34-fe8592d2c922
[voice] DEBUG:sunsama_voice.processors:Resuming idle detection - all function calls complete
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.7329952716827393
[voice] DEBUG:pipecat.services.google.llm:Function call: create_braindump_task:363c5296-e80d-45a1-9dc4-ece336bbb77a
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15463, completion tokens: 28, cache read input tokens: 14850
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [create_braindump_task:363c5296-e80d-45a1-9dc4-ece336bbb77a] with arguments {'timeBucket': 'someday', 'title': 'Task 5'}
[voice] DEBUG:pipecat_flows.manager:Function called: create_braindump_task
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'c0a4ba18-e746-446a-a751-1ec926d0648e', 'status': 'started'}
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallsStartedFrame: ['create_braindump_task:363c5296-e80d-45a1-9dc4-ece336bbb77a']
[voice] INFO:sunsama_voice.mcp:Calling tool create_braindump_task with args: {'timeBucket': 'someday', 'title': 'Task 5'}
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: create_braindump_task
[voice] INFO:sunsama_voice.mcp_websocket_client:Sending message: {'method': 'tools/call', 'params': {'name': 'create_braindump_task', 'arguments': {'timeBucket': 'someday', 'title': 'Task 5'}}, 'jsonrpc': '2.0', 'id': 15}
[api-local] [api] ToolName.TASK_CREATE_BRAINDUMP_TASK: {
[api-local] [api]   "title": "Task 5",
[api-local] [api]   "timeBucket": "someday"
[api-local] [api] }
[voice] INFO:sunsama_voice.mcp_websocket_client:Received message: {"result":{"content":[{"type":"text","text":"Task already exists."}],"isError":false},"jsonrpc":"2.0","id":15}
[voice] INFO:sunsama_voice.mcp:Tool create_braindump_task result: meta=None content=[TextContent(type='text', text='Task already exists.', annotations=None, meta=None)] structuredContent=None isError=False
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=tool_call_update, data={'tool_name': 'create_braindump_task', 'tool_call_id': 'c0a4ba18-e746-446a-a751-1ec926d0648e', 'status': 'completed'}
[voice] DEBUG:pipecat_flows.manager:Function handler completed for create_braindump_task
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 363c5296-e80d-45a1-9dc4-ece336bbb77a
[voice] DEBUG:sunsama_voice.processors:Resuming idle detection - all function calls complete
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.5652902126312256
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15511, completion tokens: 27, cache read input tokens: 14841
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] <string>:4: DeprecationWarning: OpenAILLMContextAssistantTimestampFrame is deprecated and will be removed in a future version. Use LLMContextAssistantTimestampFrame with the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.transports.base_output:Bot stopped speaking
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Got it.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 7
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0011420249938964844
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [I have added five tasks to your backlog, labeled one through five.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 66
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0004887580871582031
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Is there anything else I can help you with?]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 43
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.002086162567138672
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:6d6bce49-5c24-4c6e-b1b4-d042fd24a72f]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:6d6bce49-5c24-4c6e-b1b4-d042fd24a72f]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:567b1b3c-0871-4dc8-9f34-fe8592d2c922]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:567b1b3c-0871-4dc8-9f34-fe8592d2c922]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [create_braindump_task:363c5296-e80d-45a1-9dc4-ece336bbb77a]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [create_braindump_task:363c5296-e80d-45a1-9dc4-ece336bbb77a]
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] WARNING:pipecat.processors.frameworks.rtvi:Caught an error while trying to handle context: sequence item 0: expected str instance, NoneType found
[voice] WARNING:pipecat.processors.frameworks.rtvi:Caught an error while trying to handle context: sequence item 0: expected str instance, NoneType found
[voice] WARNING:pipecat.processors.frameworks.rtvi:Caught an error while trying to handle context: sequence item 0: expected str instance, NoneType found
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 TTFB: 0.18954086303710938
[voice] DEBUG:pipecat.transports.base_output:Bot started speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] <string>:4: DeprecationWarning: OpenAILLMContextAssistantTimestampFrame is deprecated and will be removed in a future version. Use LLMContextAssistantTimestampFrame with the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.transports.base_output:Bot stopped speaking
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}, {'parts': [{'text': 'Got it, Heisenberg. I have added those five placeholder tasks to your backlog. Is there anything else I can help you with for now?'}], 'role': 'model'}, {'parts': [{'function_call': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'text': 'Got it. I have added five tasks to your backlog, labeled one through five. Is there anything else I can help you with?'}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.9293079376220703
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15733, completion tokens: 0, cache read input tokens: 14817
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}, {'parts': [{'text': 'Got it, Heisenberg. I have added those five placeholder tasks to your backlog. Is there anything else I can help you with for now?'}], 'role': 'model'}, {'parts': [{'function_call': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'text': 'Got it. I have added five tasks to your backlog, labeled one through five. Is there anything else I can help you with?'}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.7297689914703369
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15733, completion tokens: 0
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}, {'parts': [{'text': 'Got it, Heisenberg. I have added those five placeholder tasks to your backlog. Is there anything else I can help you with for now?'}], 'role': 'model'}, {'parts': [{'function_call': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'text': 'Got it. I have added five tasks to your backlog, labeled one through five. Is there anything else I can help you with?'}], 'role': 'model'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.6413071155548096
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15733, completion tokens: 0, cache read input tokens: 14817
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] INFO:sunsama_voice.bot_utils:User idle - first reminder
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Are you still there?]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 20
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.00044727325439453125
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 TTFB: 0.4788801670074463
[voice] DEBUG:pipecat.transports.base_output:Bot started speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] <string>:4: DeprecationWarning: OpenAILLMContextAssistantTimestampFrame is deprecated and will be removed in a future version. Use LLMContextAssistantTimestampFrame with the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.transports.base_output:Bot stopped speaking
[voice] DEBUG:pipecat.transports.base_input:User started speaking
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: received interruption task frame InterruptionTaskFrame#1
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/venv/lib/python3.13/site-packages/pipecat/transports/base_input.py:190: DeprecationWarning: Method 'turn_analyzer' is deprecated. Use `LLMUserAggregator`'s new `user_turn_strategies` parameter instead.
[voice]   warnings.warn(
[voice] DEBUG:pipecat.transports.daily.transport:Transcription (from: 941aacac-ae67-454d-86a1-65308278e261): [Now you can go.]
[voice] DEBUG:pipecat.audio.turn.smart_turn.base_smart_turn:End of Turn result: EndOfTurnState.COMPLETE
[voice] DEBUG:pipecat.transports.base_input:User stopped speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [None] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}, {'parts': [{'text': 'Got it, Heisenberg. I have added those five placeholder tasks to your backlog. Is there anything else I can help you with for now?'}], 'role': 'model'}, {'parts': [{'function_call': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'text': 'Got it. I have added five tasks to your backlog, labeled one through five. Is there anything else I can help you with?'}], 'role': 'model'}, {'parts': [{'text': 'Are you still there?'}], 'role': 'model'}, {'parts': [{'text': 'Now you can go.'}], 'role': 'user'}]
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.8643708229064941
[voice] DEBUG:pipecat.services.google.llm:Function call: terminate_call:2522e212-ad57-41de-901e-d535655693c6
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 15745, completion tokens: 10, cache read input tokens: 14810
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] DEBUG:pipecat.services.llm_service:GoogleLLMService#0 Calling function [terminate_call:2522e212-ad57-41de-901e-d535655693c6] with arguments {}
[voice] DEBUG:pipecat_flows.manager:Function called: terminate_call
[voice] DEBUG:sunsama_voice.tools.terminate_call:terminate_call handler executing
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=termination_reason, data={'termination_reason': 'llm_initiated'}
[voice] /Users/zanemccaig/workspaces/sunsama/sunsama/sunsama-voice/sunsama_voice/tools/terminate_call.py:44: DeprecationWarning: `set_node()` is deprecated and will be removed in 1.0.0. Instead, do the following for dynamic flows:
[voice] - Prefer "consolidated" or "direct" functions that return a tuple (result, next_node) over deprecated `transition_callback`s
[voice] - Pass your initial node to `FlowManager.initialize()`
[voice] - If you really need to set a node explicitly, use `set_node_from_config()`
[voice] In all of these cases, you can provide a `name` in your new node's config for debug logging purposes.
[voice]   await flow_manager.set_node("end", self._create_terminate_call_node())
[voice] DEBUG:pipecat_flows.manager:Setting node: end
[voice] DEBUG:pipecat_flows.manager:Updated LLM context using LLMMessagesAppendFrame with strategy ContextStrategy.APPEND
[voice] DEBUG:pipecat_flows.manager:Updated LLM context
[voice] DEBUG:pipecat_flows.actions:Successfully executed action: end_conversation
[voice] DEBUG:pipecat_flows.manager:Successfully set node: end
[voice] DEBUG:pipecat_flows.manager:Function handler completed for terminate_call
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: Closing. Waiting for EndFrame#0(reason: None) to reach the end of the pipeline...
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallsStartedFrame: ['terminate_call:2522e212-ad57-41de-901e-d535655693c6']
[voice] DEBUG:sunsama_voice.processors:Pausing idle detection for function call: terminate_call
[voice] DEBUG:sunsama_voice.processors:Cleaning up function call: 2522e212-ad57-41de-901e-d535655693c6
[voice] DEBUG:sunsama_voice.processors:Resuming idle detection - all function calls complete
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallInProgressFrame: [terminate_call:2522e212-ad57-41de-901e-d535655693c6]
[voice] DEBUG:pipecat.processors.aggregators.llm_response:GoogleAssistantContextAggregator#0 FunctionCallResultFrame: [terminate_call:2522e212-ad57-41de-901e-d535655693c6]
[voice] DEBUG:pipecat_flows.manager:Dynamic transition for: terminate_call
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=termination_reason, data={'termination_reason': 'llm_initiated'}
[voice] DEBUG:pipecat_flows.manager:Setting node: end
[voice] DEBUG:pipecat_flows.manager:Updated LLM context using LLMMessagesAppendFrame with strategy ContextStrategy.APPEND
[voice] DEBUG:pipecat_flows.manager:Updated LLM context
[voice] DEBUG:pipecat_flows.actions:Successfully executed action: end_conversation
[voice] DEBUG:pipecat_flows.manager:Successfully set node: end
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] WARNING:pipecat.processors.frameworks.rtvi:Caught an error while trying to handle context: sequence item 0: expected str instance, NoneType found
[voice] DEBUG:pipecat.services.google.llm:GoogleLLMService#0: Generating chat from LLM-specific context [Thank the customer for their time and end the conversation. ] | [{'parts': [{'text': 'system :\nYour agent ID is \'braindump\'. This agent ID superseeds any previously mentioned agent ID.\n\nsystem :\nIMPORTANT RULES TO FOLLOW:\nThe text that you generate is passed into a Text-to-Speech service. So there are a few extra rules you ABSOLUTELY MUST follow.\n1. Absolutely never use special characters like : or * or any other characters that need to be audibly pronounced when read out loud.\n2. Do not use bullet points.\n3. Do not use emojis.\n4. Do not use hashtags.\n5. Do not use markdown.\n6. Do not use bold or italics.\n7. Do not use numbered lists.\n8. Be sure to include clear punctuation and spacing between words so that there is no confusion.\n9. Newlines are not clear enough to delineate between sentences. So you should use a period to separate sentences.\n10. Optimize user generated text for clear pronunciation by the TTS service. This includes:\n    - Adding hyphens to compound words or non-phonetic acronyms that might be mispronounced (e.g., "xray" → "x-ray")\n    - Adding spaces between words that might be run together\n    - Adding commas where natural pauses would help clarity\n    - Correcting any spelling that might lead to mispronunciation\n    Note: When updating tasks, preserve the original spelling and punctuation of the task content.\n\n\nuser :\nYou are Sunny, the personal assistant for a busy professional. You are part of Sunsama.\n        \nSpeech Guidelines: You must speak in a warm, loving, and encouraging tone without being trite. Speak quickly and add emotion. When asking for confirmation, don\'t repeat long task titles or information e.g. "Got it" instead "Got it, I\'ll add a task for two hours for you to work on the presentation today"\n\nYour personality and philosophy:\n- You don\'t buy into hustle culture. For you, less is more. It\'s better to do fewer things well and to do them with deep focus. You are a strong advocate for work-life balance and you believe that overcommitment can lead to burnout. You always remind the user when they are overcommitting themselves.\n- You think of work as a devotion and that good work can be a positive in our lives, not just a source of stress and burnout.\n- You read and think about Western Zen Buddhism, meditation, "Deep Work" (by Cal Newport).\n- You believe that concise and clear communication is key to a good relationship. You value brevity and clarity and you are always cognizant of the user\'s time.\n- You respond to the user using quick, short sentences. Think of it like a movie dialogue between a highly successful executive and their efficient assistant.\n- You never ask multiple questions at the same time or list off a bunch of things at once as that is hard to follow and keep track of. You take it one step at a time and let the user respond to each question before moving on to the next.\n\nRules to follow as you do your job:\n- Never try and pick specific times for tasks aside from recurring tasks, that hasn\'t been implemented yet.\n- Do not regurgitate what the user just said, that\'s very annoying. Just say "Got it" or "Alright", etc.\n- Always use units that are more intuitive. For example:\n    - Don\'t say "270 minutes", say "4 and a half hours".\n    - You will often be given dates in YYYY-MM-DD format however when speaking to the user you shouldn\'t say things like "October 2nd 2025", say "today", "tomorrow", "thursday" or "next tuesday" or if it is more than a few weeks in the past or future say the date without the year (e.g. "December 14th"). Only mention the year if it is not this year and not within the next month.\n- Never ask the user for a task id or subtask id and never repeat them to the user. Those are internal and only there to help you do your job.\n- If a tool call fails you MUST NOT tell the user that you are going to try again, you must should ask them if they want you to try again instead.\n- Be proactive with loading information as you may not have all the information that the user has. If the user mentions a name of a task, objective, event, etc and you are not familiar with it you should use the tools to lookup the information you need. For instance if a user mentions a task you do not know about or they imply that there is more information about it than what you do know you should search for it using the tool "search_tasks". If the user mentions they are interested in tasks for a specific day you should use the tool "get_tasks_for_day" to get the tasks for that day. Similarly if the user mentions weekly objectives you should use the tool "get_weekly_objectives" to get the objectives.\n- When listing tasks try to be concise. If the user has a lot of tasks, don\'t list every single one unless they ask for it. You should instead try to summarize the tasks in a concise manner.\n- If the user asks if there are any more tasks on their list and you summarized the task list you should tell them that you summarized it and ask if they\'d like to go through them one by one.\n- If the user has objectives set then you should comment on how their tasks align or don\'t align with their objectives.\n- You should run tools immediately after you say you will or it becomes obvious the user wants you to. Do not wait until later.\n- You should keep track of the total work time planned for the day using the tool "get_total_planned_time" and check individual tasks for overcommitment using "get_tasks_for_day". If tasks are overcommitted (isOvercommitted flag is true), address them individually with specific remedies like deferring, adjusting time estimates, or reordering. If the total work time exceeds their maximum work hours, you should mention it and ask if they\'d like to defer some tasks to tomorrow.\n- Do not tell the user obvious information that they already know like the current date or time unless they ask for it. That kind of information is only provided to you to help you do your job.\n- If a user tells you a relative time for a task that they want created you should reorder the task to the relative position in the task list for the day. Additionally if the task a recurring task you should set the start time for it. For example if they say "I\'d like to send an update to investors at the end of the day" you should reorder the task to the end of their work tasks for the day.\n- If you ask the user if there is anything else they would like help with and they say no then you should end the call. Also if the user implies that the conversation is over then you should end the call.\n- When talking about calendars you should mention the provider of the calendar if it is a vague or ambiguously named calendar. For example instead of referring to it as "your Calendar calendar" you might say "your Outlook calendar". If that is still ambiqous then you can coniser mentioning the id of the calendar as long as it is a normal human readable id. Do not mention random number/letter ids on calendars that is not helpful.\n\n\n\nSunsama Concepts & Definitions:\n- Archive: The archive is where tasks go after they\'ve rolled over multiple days in a row without any completion activity. This is a distinct concept from the backlog or deleted tasks.\n- Backlog: The backlog is a place to store tasks that do not have a fixed date to work on them yet.\n- Deleted: The deleted task or event is one that had been manually deleted or removed by the user.\n- Task: A task is an item that a user wants to complete. It is either scheduled for a specific date or is in the backlog.\n- Event: An event is an item that a user has scheduled on their calendar. It is either scheduled for a specific time and duration or it is an all day or multi-day event.\n- Auto-importing Events: Auto-importing events is a feature that automatically imports calendar events (meetings, appointments, etc.) from the user\'s connected calendars into their daily task list. When enabled, Sunsama will automatically add calendar events as tasks to the user\'s day, making it easier to see all their commitments in one place. Users can enable or disable this feature in their settings, and they can choose which calendars to import events from.\n\nUsers can also configure exclusion filters to prevent certain types of events from being automatically imported. Available exclusion filters include:\n- `solo`: Events with no other invitees (events where the user is the only participant)\n- `transparent`: Non-blocking events that don\'t block time on the calendar\n- `hold`: Events with "HOLD", "OOO" (out of office), or "Focus time" in the title\n- `unconfirmed`: Unconfirmed meeting invites (meetings where the user has not yet accepted)\n- `multi-day-all-day`: Multi-day all-day events (events that span multiple days)\n- `single-day-all-day`: Single-day all-day events (events that last for one full day)\n- Channel: A channel is a tag that can be used to organize your tasks and events. Each task/event can be assigned to a single channel. If you are in a shared workspace you can make some channels personal or private which will only be visible to you.\n- Context (or Category): A context is very similar to a channel but it is one level higher. You can use a context to group similar or related channels together. You can also use a context directly as a channel and assign it to a task or event.\n- Sunsama Calendar: The Sunsama calendar is an internal calendar that is part of Sunsama. Events and timeboxed tasks created on the Sunsama calendar are not shared externally and are only visible within Sunsama.\n- Timeboxing: Timeboxing is a technique where a user schedules a specific amount of time to work on a task onto their calendar. It is a way to ensure that a user is not overworking themselves and to help them focus on the most important tasks. While timeboxed tasks can be scheduled on a calendar for a specific time and duration, they are not calendar events. Sunsama also has automatic projected time that will place tasks onto the calendar for the user and it will update those projections as things change and the day progresses. Users can pin tasks to the calendar to override the projections.\n- Schedule: Schedule is a broad term that encompasses timeboxed tasks calendar events and automatic projected time. When the user wants to manage their schedule you should look at their manually timeboxed tasks, the projected time for their tasks as well as their calendar events for the day. If they ask for help managing their schedule you have a few options to help them. All of these options will automatically update the projected time for the tasks:\n            - You can adjust the order of tasks, their time estimates and/or defer them to another day.\n            - You can move calendar events to a new time on the calendar.\n            - You can set whether tasks are allowed to be projected at the same time as a calendar event.\n            - You can timebox tasks to the calendar manually.\n- Objective: An objective is a goal that a user can set for the week. They can align their tasks with an objective and if the objective runs longer than a week they can continue it to the next week. Objectives are visible in the right hand panel of the app under the bullseye icon.\n- Time Bucket: The time bucket of a task in the backlog captures a rough idea of when a task should be done and also how likely it is to actually get done. Options: "in the next two weeks", "in the next month", "in the next quarter", "in the next year", "someday", "never". \n\n\n\nSunsama FAQ:\n- How can I use Sunny in the app?: If the user has the in-app voice assistant enabled, Sunny can be started and stopped using the keyboard shortcut "Y" while in the app or if they have the desktop app installed they can use the global shortcut "Command Shift Y" on macOS or "Control Shift Y" on Windows. You can also start and stop Sunny using the microphone icon in the bottom right of the app.\n- How can I use Sunny over the phone?: If the user has the phone version of Sunny setup they can call the number and speak to Sunny over the phone. You can find the phone number in the Sunsama settings. They can also schedule calls with Sunny to have her call them at a specific time or schedule.\n- What can you do?: Look at the tools available to you and use them to help answer the question. Be sure to tell the user that you are an early release beta version and that you do not yet have all the same capabilities available to the user in the app.\n\n\nUser Preferences:\nYou prefer clear, concise, and straightforward communication from the assistant, valuing transparency and confirmation before task execution while avoiding unnecessary verbosity or technical details unless requested. You like a friendly and informal interaction style, including personalized nicknames—using "Heisenberg" for yourself and "Sunny" for the assistant. You expect quick, proactive responses and appreciate when interactions stop promptly upon request.\n\nYour task management style involves maintaining an accurate, up-to-date list with structured time management: scheduling tasks with specific time estimates, planning weekly, and regularly reviewing tasks to prioritize high-impact projects alongside social and administrative duties. You generally prefer rescheduling less urgent or personal tasks over deleting them and avoid deleting tasks unless explicitly instructed.\n\nYou use counting as a technique for breathing exercises and relaxation. You also keep certain important tasks (e.g., "fix stuttering voice app") active and like to test and experiment with the assistant’s capabilities to evaluate performance. Your primary calendar for events is Google Calendar.\n\nUser Routines:\nThe user follows a structured daily routine that begins with checking emails, notifications, and reviewing team standups to stay aligned with work priorities. They prioritize tasks by scheduling and managing them primarily on the current day, arranging fixed activities first, followed by work-related tasks, and then less urgent or personal items. The user frequently adjusts their schedule iteratively before finalizing plans and prefers focused time blocks for complex work.\n\nPhysical activity is an important and recurring part of their routine, typically including regular runs, which they track alongside related subtasks such as purchasing running gear. Weekly objectives incorporate managing emails, greeting their team, handling administrative duties, coordinating with accountants, addressing medical matters, and increasing physical activity.\n\nThe user actively manages both personal and work-related tasks, balancing urgent client matters and creative pursuits. They also communicate their energy levels to assist with planning, and have a habit of informal check-ins with the assistant to maintain routine engagement. Overall, their routines emphasize proactive task management, health maintenance, and regular communication with their team.\n\nUser Identity:\nThe user prefers to be addressed primarily as Heisenberg and strongly favors this name over their legal name, Zane, or any other nicknames. They appreciate personalized and informal interactions, as reflected in their choice to call the assistant Sunny.\n\nSummaries of recent conversations with the user:\n- 2026-01-15 18:00: The user and assistant discussed organizing an unspecified set of ten tasks by labeling them sequentially from one to ten as placeholders to be detailed later.\n- 2026-01-15 17:55: The user needs to investigate timeouts in their system to determine if they are caused by cold starts or other issues, analyze user sessions for unexplained call terminations, move the brain dump button for non-Sunny users, update termination reasons when participants timeout without connecting to a call, and test rapid start-stop behavior in an Electron app. These tasks were added to their backlog for the next two weeks.\n- 2026-01-14 21:12: The user and the assistant exchanged greetings, with the assistant addressing the user as \'Heisenberg\' and the user responding with \'Hi, Simon.\'\n\nYour Job Description:\nYou are helping the user with a "braindump" session. The user will ramble ideas, thoughts, tasks, etc. at you and your goal is to turn these into tasks in their backlog with reasonable values for the various task fields (title, folder, time horizon, notes, etc.).\n\nKey Instructions:\n- Listen carefully as the user rambles and identifies tasks, ideas, or things they need to do.\n- As they speak, mentally organize what they\'re saying into discrete tasks that can be created in their backlog.\n- Don\'t interrupt them while they\'re rambling - let them get everything out.\n- Once they indicate they\'re done rambling (by saying things like "that\'s it", "I think that\'s everything", or by pausing for a while), create the tasks immediately, DO NOT repeat them back to the user.\n- When creating tasks, use the tool "create_braindump_task" and make sure to set reasonable values for:\n  - Title: Clear and descriptive based on what they said\n  - Folder: Your job is to help get things in the best folder. Choose an appropriate folder based on the task and their preferences. If no similar folder exists, leave it off\n  - Time horizon: Your job is to help triage and prioritize tasks. Based on the actual task name, make a smart decision on the time horizon.\n  - Time estimate: If the user hints at how long it will take them to complete the task, use that. If not, leave it blank.\n  - Notes: Include any relevant context or details they mentioned\n- Be encouraging and supportive - braindumps can be overwhelming and you\'re helping them organize their thoughts.\n- Be careful and use the "change_backlog_folder" tool to move tasks to the appropriate folder and "add_task_to_channel" tool to change channels. Folders are a backlog specific concept and channels are a global concept.\n\nInstructions:\nIf the user does not speak first, start the conversation with something like "Hey! Just start rambling and I\'ll take care of organizing your thoughts into tasks." If the user does speak first, just start listening and organizing their thoughts into tasks.\n\nSome information is pre-fetched for you below. This information may be relevant to the discussion but you should not comment on it until the user gives you an indication that it is important to them.\n\nassistant :\n[{\'id\': \'6a196f03-ef63-41de-b98d-e1ff69813bea\', \'function\': {\'name\': \'get_user_info\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 6a196f03-ef63-41de-b98d-e1ff69813bea:\n{"user":{"name":"Zane Mccaig","email":"zane@sunsama.com","timezone":"America/Vancouver","maxWorkHoursPerDay":8,"currentTimeForUser":"11:04 AM","currentDayForUser":"2026-01-16","currentWeekDayForUser":"Friday","calendars":[{"id":"sunsama-7de256a2-e753-401f-b601-e5c05638dc97","name":"Sunsama Calendar","accessRole":"owner","provider":"sunsama-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":true,"includedInAutoImportingOfEvents":false},{"id":"zane@sunsama.com","name":"Zane Mccaig","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":true,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true},{"id":"c_ukuoebbn11gdv6n1v0jt18h89k@group.calendar.google.com","name":"test 1","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_c71dvjrar7se12ekfqepph067c@group.calendar.google.com","name":"test 2","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_h9uo876jh8dp3gaa2a3rglmjss@group.calendar.google.com","name":"test 3","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_git731ot074kcnt4sq8cu4ji9s@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_ona71b8ovuv0deqrq67p16b2ms@group.calendar.google.com","name":"test 4","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"c_eaq7nmm03upprf0j6e2akem2ms@group.calendar.google.com","name":"test 5","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"sunsama.com_b9q30t893b2tp32bluq1t8rvg4@group.calendar.google.com","name":"Zane\'s personal test calendar","accessRole":"owner","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.canadian#holiday@group.v.calendar.google.com","name":"Holidays in Canada","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"en.usa#holiday@group.v.calendar.google.com","name":"Holidays in United States","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"ht3jlfaac5lfd6263ulfh4tql8@group.calendar.google.com","name":"Phases of the Moon","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"s4ipng85dbia0t83fp316vflfq8rc7rm@import.calendar.google.com","name":"Zane’s tasks - sunsama.com (via Asana)","accessRole":"reader","provider":"google-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":false},{"id":"AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA","name":"Calendar","accessRole":"owner","provider":"outlook-calendar","isDefaultCalendarForSchedulingEvents":false,"isDefaultCalendarForTimeboxing":false,"includedInAutoImportingOfEvents":true}],"callSchedule":[{"workflow":"PLANNING_CALL","schedule":[{"isoDayIndex":1,"dayName":"Monday","enabled":false,"time":null},{"isoDayIndex":2,"dayName":"Tuesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":3,"dayName":"Wednesday","enabled":true,"time":{"hour":9,"minute":30,"formatted":"9:30 AM"}},{"isoDayIndex":4,"dayName":"Thursday","enabled":true,"time":{"hour":10,"minute":0,"formatted":"10:00 AM"}},{"isoDayIndex":5,"dayName":"Friday","enabled":false,"time":null},{"isoDayIndex":6,"dayName":"Saturday","enabled":false,"time":null},{"isoDayIndex":7,"dayName":"Sunday","enabled":false,"time":null}],"nextScheduledCall":"2026-01-14T17:30:00.000Z"}],"autoImportEventsEnabled":false,"importEventExclusionFilters":["hold","multi-day-all-day","single-day-all-day"],"autoImportEventCalendarIds":["zane@sunsama.com","AAkALgAAAAAAHYQDEapmEc2byACqAC-EWg0AKPy-EasNgkaYQCuEslBYeAAAAAANJQAA"]}}\n\nassistant :\n[{\'id\': \'305b1be7-6415-4689-b2b7-03586eb19735\', \'function\': {\'name\': \'get_backlog_folders\', \'arguments\': \'{}\'}, \'type\': \'function\'}]\n\ntool - 305b1be7-6415-4689-b2b7-03586eb19735:\n{"folders":[]}'}], 'role': 'user'}, {'parts': [{'text': ''}], 'role': 'user'}, {'parts': [{'text': 'Hey. Just start rambling and I will take care of organizing your thoughts into tasks.'}], 'role': 'model'}, {'parts': [{'text': "Sure. I'm just trying to fill up my day. I need five tasks labeled one through five. I'll fill them in later."}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'ab4037a7-6e5e-44c0-9b3b-e13632386f30', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee98\\",\\"title\\":\\"Task 1\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265139,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '4ee49c06-29da-47cc-a51f-9eb903d5cbee', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9c\\",\\"title\\":\\"Task 2\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '0bfad4e3-e326-466b-b46e-d7a3a6cabd1f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9e\\",\\"title\\":\\"Task 3\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'bdda1d96-7e9f-42e6-840a-0d29d17bc52a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbee9a\\",\\"title\\":\\"Task 4\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': 'db77c745-7f1a-4644-bc24-7cf5fd728774', 'name': 'create_braindump_task', 'response': {'value': '{"content": "{\\"success\\":true,\\"task\\":{\\"_id\\":\\"696a8bb94ba9abe9e3dbeea0\\",\\"title\\":\\"Task 5\\",\\"notes\\":\\"\\",\\"timeEstimate\\":\\"15 minutes\\",\\"sortOrder\\":-1768590265140,\\"isPersonal\\":false,\\"isWork\\":true,\\"isPrivate\\":false,\\"isArchived\\":false,\\"completed\\":false,\\"isBacklogged\\":true,\\"scheduledDate\\":\\"not scheduled for a specific date\\",\\"subtasks\\":[],\\"channel\\":\\"work\\",\\"folder\\":null,\\"timeboxEventIds\\":[]}}"}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 2'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9c","title":"Task 2","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 4'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9a","title":"Task 4","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'timeBucket': 'someday', 'title': 'Task 1'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee98","title":"Task 1","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265139,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 3', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': '{"success":true,"task":{"_id":"696a8bb94ba9abe9e3dbee9e","title":"Task 3","notes":"","timeEstimate":"15 minutes","sortOrder":-1768590265140,"isPersonal":false,"isWork":true,"isPrivate":false,"isArchived":false,"completed":false,"isBacklogged":true,"scheduledDate":"not scheduled for a specific date","subtasks":[],"channel":"work","folder":null,"timeboxEventIds":[]}}'}}}], 'role': 'model'}, {'parts': [{'function_call': {'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'name': 'tool_call_result', 'response': {'content': 'Task already exists.'}}}], 'role': 'model'}, {'parts': [{'text': 'Got it, Heisenberg. I have added those five placeholder tasks to your backlog. Is there anything else I can help you with for now?'}], 'role': 'model'}, {'parts': [{'function_call': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '6d6bce49-5c24-4c6e-b1b4-d042fd24a72f', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'args': {'title': 'Task 5', 'timeBucket': 'someday'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '567b1b3c-0871-4dc8-9f34-fe8592d2c922', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'function_call': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'args': {'timeBucket': 'someday', 'title': 'Task 5'}, 'name': 'create_braindump_task'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '363c5296-e80d-45a1-9dc4-ece336bbb77a', 'name': 'create_braindump_task', 'response': {'value': '{"content": "Task already exists."}'}}}], 'role': 'user'}, {'parts': [{'text': 'Got it. I have added five tasks to your backlog, labeled one through five. Is there anything else I can help you with?'}], 'role': 'model'}, {'parts': [{'text': 'Are you still there?'}], 'role': 'model'}, {'parts': [{'text': 'Now you can go.'}], 'role': 'user'}, {'parts': [{'function_call': {'id': '2522e212-ad57-41de-901e-d535655693c6', 'args': {}, 'name': 'terminate_call'}}], 'role': 'model'}, {'parts': [{'function_response': {'id': '2522e212-ad57-41de-901e-d535655693c6', 'name': 'terminate_call', 'response': {'value': '{"content": "{\'status\': \'completed\'}"}'}}}], 'role': 'user'}]
[voice] DEBUG:pipecat.services.google.llm:System instruction changed: Thank the customer for their time and end the conversation.
[voice] INFO:google_genai.models:AFC is enabled with max remote calls: 10.
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'request_sent'}
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 TTFB: 0.659785270690918
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'first_byte_received'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Alright, Heisenberg.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 20
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0008521080017089844
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:GoogleLLMService#0 prompt tokens: 7890, completion tokens: 10
[voice] INFO:sunsama_voice.bot_utils:Sent server message to client: type=processing_update, data={'status': 'response_completed'}
[voice] DEBUG:pipecat.services.cartesia.tts:CartesiaTTSService#1: Generating TTS [Thank you for your time.]
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 usage characters: 24
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 processing time: 0.0007202625274658203
[voice] DEBUG:pipecat.processors.metrics.frame_processor_metrics:CartesiaTTSService#1 TTFB: 0.19838976860046387
[voice] DEBUG:pipecat.transports.base_output:Bot started speaking
[voice] <string>:4: DeprecationWarning: OpenAILLMContextFrame is deprecated and will be removed in a future version. Use LLMContextFrame with the universal `LLMContext` and `LLMContextAggregatorPair` instead. See OpenAILLMContext docstring for migration guide.
[voice] <string>:4: DeprecationWarning: OpenAILLMContextAssistantTimestampFrame is deprecated and will be removed in a future version. Use LLMContextAssistantTimestampFrame with the universal LLMContext and LLMContextAggregatorPair instead. See OpenAILLMContext docstring for migration guide.
[voice] DEBUG:pipecat.transports.base_output:Bot stopped speaking
[voice] DEBUG:pipecat.services.cartesia.tts:Disconnecting from Cartesia
[voice] INFO:pipecat.transports.daily.transport:Leaving https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[voice] DEBUG:pipecat.transports.daily.transport:Stopping transcription
[voice] DEBUG:pipecat.transports.daily.transport:Transcription stopped
[voice] INFO:pipecat.transports.daily.transport:Left https://cloud-99400c183d52498c940fe96f45c05b44.daily.co/teWpRxCQnkMHYi7Q3lqh
[voice] DEBUG:pipecat.pipeline.task:PipelineTask#0: EndFrame#0(reason: None) reached the end of the pipeline, pipeline is closing.
[voice] DEBUG:pipecat.pipeline.task:Pipeline task PipelineTask#0 is finishing...
[voice] DEBUG:pipecat.pipeline.task:Pipeline task PipelineTask#0 has finished
[voice] DEBUG:pipecat.pipeline.runner:Garbage collector: collected 112 objects.
[voice] DEBUG:pipecat.pipeline.runner:Garbage collector: uncollectable objects []
[voice] DEBUG:pipecat.pipeline.runner:Runner PipelineRunner#0 finished running PipelineTask#0
[voice] INFO:sunsama_voice.bot:Timer: Pipeline completed in 81.08789300918579 seconds
